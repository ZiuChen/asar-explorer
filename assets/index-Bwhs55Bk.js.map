{"version":3,"mappings":"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","names":["worker: Worker | null","fileNode: FileNode","result: [string, number][]","options: { recursive: boolean }","callback: FileSystemWatchHandle","watcher: FileWatcher","result: string[]","result: {\n        name: string\n        path: string\n        isDirectory: boolean\n        children?: unknown[]\n        size?: number\n        modified?: boolean\n      }[]","item: {\n          name: string\n          path: string\n          isDirectory: boolean\n          children?: unknown[]\n          size?: number\n          modified?: boolean\n        }","currentAsarData: ArrayBuffer | null","buffer: ArrayBuffer","fileName: string","meta: AsarMeta","modificationMap: Record<string, Uint8Array>"],"ignoreList":[],"sources":["../../src/utils/shadcn.ts","../../src/components/ui/button/Button.vue","../../src/components/ui/button/index.ts","../../src/components/ui/input/Input.vue","../../src/lib/asar-browser/worker-client.ts","../../src/utils/asar-filesystem.ts","../../src/utils/crypto.ts","../../src/stores/asar.ts","../../src/components/asar-uploader.vue","../../src/components/monaco-editor.vue","../../src/components/image-preview.vue","../../src/components/ui/alert-dialog/AlertDialog.vue","../../src/components/ui/alert-dialog/AlertDialogAction.vue","../../src/components/ui/alert-dialog/AlertDialogCancel.vue","../../src/components/ui/alert-dialog/AlertDialogContent.vue","../../src/components/ui/alert-dialog/AlertDialogDescription.vue","../../src/components/ui/alert-dialog/AlertDialogFooter.vue","../../src/components/ui/alert-dialog/AlertDialogHeader.vue","../../src/components/ui/alert-dialog/AlertDialogTitle.vue","../../src/components/alert-dialog-confirm.vue","../../src/components/ui/resizable/ResizableHandle.vue","../../src/components/ui/resizable/ResizablePanel.vue","../../src/components/ui/resizable/ResizablePanelGroup.vue","../../src/components/ui/sonner/Sonner.vue","../../src/App.vue","../../src/i18n/locales/zh.ts","../../src/i18n/locales/en.ts","../../src/i18n/index.ts","../../src/main.ts"],"sourcesContent":["import type { ClassValue } from \"clsx\"\nimport { clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","<script setup lang=\"ts\">\nimport type { PrimitiveProps } from \"reka-ui\"\nimport type { HTMLAttributes } from \"vue\"\nimport type { ButtonVariants } from \".\"\nimport { Primitive } from \"reka-ui\"\nimport { cn } from '@/utils/shadcn'\nimport { buttonVariants } from \".\"\n\ninterface Props extends PrimitiveProps {\n  variant?: ButtonVariants[\"variant\"]\n  size?: ButtonVariants[\"size\"]\n  class?: HTMLAttributes[\"class\"]\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  as: \"button\",\n})\n</script>\n\n<template>\n  <Primitive\n    data-slot=\"button\"\n    :as=\"as\"\n    :as-child=\"asChild\"\n    :class=\"cn(buttonVariants({ variant, size }), props.class)\"\n  >\n    <slot />\n  </Primitive>\n</template>\n","import type { VariantProps } from \"class-variance-authority\"\nimport { cva } from \"class-variance-authority\"\n\nexport { default as Button } from \"./Button.vue\"\n\nexport const buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        \"default\": \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        \"sm\": \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        \"lg\": \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        \"icon\": \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\nexport type ButtonVariants = VariantProps<typeof buttonVariants>\n","<script setup lang=\"ts\">\nimport type { HTMLAttributes } from \"vue\"\nimport { useVModel } from \"@vueuse/core\"\nimport { cn } from '@/utils/shadcn'\n\nconst props = defineProps<{\n  defaultValue?: string | number\n  modelValue?: string | number\n  class?: HTMLAttributes[\"class\"]\n}>()\n\nconst emits = defineEmits<{\n  (e: \"update:modelValue\", payload: string | number): void\n}>()\n\nconst modelValue = useVModel(props, \"modelValue\", emits, {\n  passive: true,\n  defaultValue: props.defaultValue,\n})\n</script>\n\n<template>\n  <input\n    v-model=\"modelValue\"\n    data-slot=\"input\"\n    :class=\"cn(\n      'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n      'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n      'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n      props.class,\n    )\"\n  >\n</template>\n","/**\n * ASAR Worker Client - 主线程与 Worker 通信的客户端\n */\n\nimport type { WorkerRequest, WorkerResponse } from './worker'\nimport type { FullFileMetadata } from './types'\n\n// Worker 实例\nlet worker: Worker | null = null\nlet requestId = 0\nconst pendingRequests = new Map<\n  number,\n  {\n    resolve: (value: unknown) => void\n    reject: (reason: unknown) => void\n  }\n>()\n\n/** 获取或创建 Worker */\nfunction getWorker(): Worker {\n  if (!worker) {\n    worker = new Worker(new URL('./worker.ts', import.meta.url), { type: 'module' })\n    worker.onmessage = (event: MessageEvent<WorkerResponse>) => {\n      const response = event.data\n      const pending = pendingRequests.get(response.id)\n      if (pending) {\n        pendingRequests.delete(response.id)\n        if (response.type === 'error') {\n          pending.reject(new Error(response.error))\n        } else {\n          pending.resolve(response.result)\n        }\n      }\n    }\n    worker.onerror = (error) => {\n      console.error('Worker error:', error)\n    }\n  }\n  return worker\n}\n\n/** 发送请求到 Worker */\nfunction sendRequest<T>(\n  type: WorkerRequest['type'],\n  payload: Record<string, unknown>,\n  transfer?: Transferable[]\n): Promise<T> {\n  return new Promise((resolve, reject) => {\n    const id = ++requestId\n    pendingRequests.set(id, { resolve: resolve as (value: unknown) => void, reject })\n    const fullRequest = { type, id, ...payload }\n    if (transfer) {\n      getWorker().postMessage(fullRequest, transfer)\n    } else {\n      getWorker().postMessage(fullRequest)\n    }\n  })\n}\n\n/** 解析 ASAR 头部（在 Worker 中执行） */\nexport async function parseHeaderAsync(data: ArrayBuffer): Promise<{\n  files: FullFileMetadata[]\n  filesOffset: number\n}> {\n  // 复制数据以便传输\n  const copy = data.slice(0)\n  return sendRequest('parseHeader', { data: copy }, [copy])\n}\n\n/** 提取单个文件（在 Worker 中执行） */\nexport async function extractFileAsync(data: ArrayBuffer, path: string): Promise<ArrayBuffer> {\n  return sendRequest('extractFile', { data, path })\n}\n\n/** 批量提取文件（在 Worker 中执行） */\nexport async function extractFilesAsync(\n  data: ArrayBuffer,\n  paths: string[]\n): Promise<Record<string, ArrayBuffer>> {\n  return sendRequest('extractFiles', { data, paths })\n}\n\n/** 修改并重新打包（在 Worker 中执行） */\nexport async function modifyPackageAsync(\n  data: ArrayBuffer,\n  modifications: Record<string, Uint8Array>\n): Promise<Uint8Array> {\n  // 复制数据以便传输\n  const copy = data.slice(0)\n  return sendRequest('modifyPackage', { data: copy, modifications }, [copy])\n}\n\n/** 终止 Worker */\nexport function terminateWorker(): void {\n  if (worker) {\n    worker.terminate()\n    worker = null\n    pendingRequests.clear()\n  }\n}\n","/**\n * ASAR FileSystem\n * 虚拟文件系统，将 ASAR 内容映射为内存文件系统\n */\n\nimport { parseHeaderAsync, extractFileAsync } from '@/lib/asar-browser'\n\n/** 文件系统条目类型 */\nconst FileType = {\n  Unknown: 0,\n  File: 1,\n  Directory: 2,\n  SymbolicLink: 64\n} as const\n\ntype FileSystemEntryType = 0 | 1 | 2 | 64\n\ninterface FileStat {\n  readonly type: FileSystemEntryType\n  readonly ctime: number\n  readonly mtime: number\n  readonly version: number\n  readonly size: number\n}\n\ninterface FileSystemWatchContext {\n  isModelContentChange?: boolean\n}\n\ninterface FileSystemWatchHandle {\n  (\n    kind: 'create' | 'modify' | 'remove',\n    filename: string,\n    type?: number,\n    context?: FileSystemWatchContext\n  ): void\n}\n\n/** 内存中的文件节点 */\ninterface FileNode {\n  type: 1 | 2 // 1=file, 2=directory\n  content?: Uint8Array\n  children?: Map<string, FileNode>\n  size: number\n  ctime: number\n  mtime: number\n  version: number\n  /** 是否从原始 ASAR 加载 */\n  fromAsar: boolean\n  /** 原始 ASAR 中的偏移（用于懒加载） */\n  asarOffset?: number\n}\n\n/** 文件监听器 */\ninterface FileWatcher {\n  path: string\n  recursive: boolean\n  handle: FileSystemWatchHandle\n}\n\n/**\n * ASAR 文件系统\n * 将 ASAR 内容映射为虚拟文件系统\n */\nexport class AsarFileSystem {\n  private root: FileNode\n  private watchers: FileWatcher[] = []\n  private asarData: ArrayBuffer | null = null\n  private asarId: string | null = null\n\n  constructor() {\n    this.root = this.createDirectoryNode()\n  }\n\n  /** 创建目录节点 */\n  private createDirectoryNode(): FileNode {\n    const now = Date.now()\n    return {\n      type: FileType.Directory as 2,\n      children: new Map(),\n      size: 0,\n      ctime: now,\n      mtime: now,\n      version: 1,\n      fromAsar: false\n    }\n  }\n\n  /** 创建文件节点 */\n  private createFileNode(content: Uint8Array, fromAsar = false): FileNode {\n    const now = Date.now()\n    return {\n      type: FileType.File as 1,\n      content,\n      size: content.length,\n      ctime: now,\n      mtime: now,\n      version: 1,\n      fromAsar\n    }\n  }\n\n  /** 规范化路径 */\n  private normalizePath(path: string): string {\n    // 移除 file:// 协议前缀\n    let normalizedPath = path.replace(/^file:\\/\\//, '')\n    // 移除开头的 / 并规范化\n    return normalizedPath.replace(/^\\/+/, '').replace(/\\/+$/, '').replace(/\\/+/g, '/')\n  }\n\n  /** 获取路径的各个部分 */\n  private getPathParts(path: string): string[] {\n    const normalized = this.normalizePath(path)\n    return normalized ? normalized.split('/') : []\n  }\n\n  /** 获取父目录路径 */\n  private getParentPath(path: string): string {\n    const parts = this.getPathParts(path)\n    parts.pop()\n    return parts.join('/')\n  }\n\n  /** 获取文件名 */\n  private getFileName(path: string): string {\n    const parts = this.getPathParts(path)\n    return parts[parts.length - 1] || ''\n  }\n\n  /** 获取节点 */\n  private getNode(path: string): FileNode | null {\n    const parts = this.getPathParts(path)\n    let node = this.root\n\n    for (const part of parts) {\n      if (node.type !== FileType.Directory || !node.children) {\n        return null\n      }\n      const child = node.children.get(part)\n      if (!child) {\n        return null\n      }\n      node = child\n    }\n\n    return node\n  }\n\n  /** 获取或创建父目录 */\n  private getOrCreateParent(path: string): FileNode {\n    const parentPath = this.getParentPath(path)\n    const parts = this.getPathParts(parentPath)\n    let node = this.root\n\n    for (const part of parts) {\n      if (!node.children) {\n        node.children = new Map()\n      }\n      let child = node.children.get(part)\n      if (!child) {\n        child = this.createDirectoryNode()\n        node.children.set(part, child)\n      }\n      node = child\n    }\n\n    return node\n  }\n\n  /** 通知文件变化 */\n  private notifyWatchers(\n    kind: 'create' | 'modify' | 'remove',\n    filename: string,\n    type: number = FileType.File,\n    context?: FileSystemWatchContext\n  ): void {\n    const normalizedPath = this.normalizePath(filename)\n\n    for (const watcher of this.watchers) {\n      const watchPath = this.normalizePath(watcher.path)\n\n      // 检查是否匹配\n      if (watcher.recursive) {\n        if (\n          normalizedPath.startsWith(watchPath) ||\n          watchPath === '' ||\n          normalizedPath === watchPath\n        ) {\n          watcher.handle(kind, filename, type, context)\n        }\n      } else {\n        const parentPath = this.getParentPath(normalizedPath)\n        if (parentPath === watchPath || (watchPath === '' && !normalizedPath.includes('/'))) {\n          watcher.handle(kind, filename, type, context)\n        }\n      }\n    }\n  }\n\n  // ========== 加载 ASAR ==========\n\n  /** 从 ASAR 数据初始化文件系统（使用 WebWorker 解析头部） */\n  async loadFromAsar(data: ArrayBuffer, asarId: string): Promise<void> {\n    this.asarData = data\n    this.asarId = asarId\n    this.root = this.createDirectoryNode()\n\n    // 在 WebWorker 中解析 ASAR 头部\n    const { files } = await parseHeaderAsync(data)\n\n    // 构建文件树\n    for (const file of files) {\n      const path = file.path.replace(/^\\//, '')\n      const parts = path.split('/').filter(Boolean)\n\n      // 确保父目录存在\n      let node = this.root\n      for (let i = 0; i < parts.length - 1; i++) {\n        const part = parts[i]!\n        if (!node.children) {\n          node.children = new Map()\n        }\n        let child = node.children.get(part)\n        if (!child) {\n          child = this.createDirectoryNode()\n          child.fromAsar = true\n          node.children.set(part, child)\n        }\n        node = child\n      }\n\n      // 创建文件节点（懒加载，不立即读取内容）\n      const fileName = parts[parts.length - 1]\n      if (fileName && node.children) {\n        const fileNode: FileNode = {\n          type: FileType.File as 1,\n          size: file.size || 0,\n          ctime: Date.now(),\n          mtime: Date.now(),\n          version: 1,\n          fromAsar: true,\n          asarOffset: file.fileOffset\n        }\n        node.children.set(fileName, fileNode)\n      }\n    }\n  }\n\n  /** 清空文件系统 */\n  clear(): void {\n    this.root = this.createDirectoryNode()\n    this.asarData = null\n    this.asarId = null\n  }\n\n  /** 获取当前 ASAR ID */\n  getAsarId(): string | null {\n    return this.asarId\n  }\n\n  // ========== FileSystem 接口实现 ==========\n\n  async copy(source: string, target: string, options?: { overwrite: boolean }): Promise<void> {\n    const sourceNode = this.getNode(source)\n    if (!sourceNode) {\n      throw new Error(`Source not found: ${source}`)\n    }\n\n    const targetNode = this.getNode(target)\n    if (targetNode && !options?.overwrite) {\n      throw new Error(`Target already exists: ${target}`)\n    }\n\n    // 读取源文件内容\n    const content = await this.readFile(source)\n    await this.writeFile(target, content)\n  }\n\n  async createDirectory(dir: string): Promise<void> {\n    const parts = this.getPathParts(dir)\n    let node = this.root\n\n    for (const part of parts) {\n      if (!node.children) {\n        node.children = new Map()\n      }\n      let child = node.children.get(part)\n      if (!child) {\n        child = this.createDirectoryNode()\n        node.children.set(part, child)\n        this.notifyWatchers('create', dir, FileType.Directory)\n      }\n      node = child\n    }\n  }\n\n  async delete(filename: string, options?: { recursive: boolean }): Promise<void> {\n    const parentPath = this.getParentPath(filename)\n    const name = this.getFileName(filename)\n    const parent = this.getNode(parentPath)\n\n    if (!parent || !parent.children) {\n      throw new Error(`Not found: ${filename}`)\n    }\n\n    const node = parent.children.get(name)\n    if (!node) {\n      throw new Error(`Not found: ${filename}`)\n    }\n\n    if (node.type === FileType.Directory && node.children?.size && !options?.recursive) {\n      throw new Error(`Directory not empty: ${filename}`)\n    }\n\n    parent.children.delete(name)\n    this.notifyWatchers('remove', filename, node.type)\n  }\n\n  async readDirectory(filename: string): Promise<[string, number][]> {\n    const node = this.getNode(filename)\n    if (!node) {\n      throw new Error(`Not found: ${filename}`)\n    }\n\n    if (node.type !== FileType.Directory || !node.children) {\n      throw new Error(`Not a directory: ${filename}`)\n    }\n\n    const result: [string, number][] = []\n    for (const [name, child] of node.children) {\n      result.push([name, child.type])\n    }\n\n    return result.sort((a, b) => {\n      // 目录优先\n      if (a[1] !== b[1]) {\n        return a[1] === FileType.Directory ? -1 : 1\n      }\n      return a[0].localeCompare(b[0])\n    })\n  }\n\n  async readFile(filename: string): Promise<Uint8Array> {\n    const node = this.getNode(filename)\n    if (!node) {\n      throw new Error(`Not found: ${filename}`)\n    }\n\n    if (node.type !== FileType.File) {\n      throw new Error(`Not a file: ${filename}`)\n    }\n\n    // 如果内容已加载，直接返回\n    if (node.content) {\n      return node.content\n    }\n\n    // 懒加载：在 WebWorker 中从 ASAR 读取\n    if (node.fromAsar && this.asarData) {\n      const content = await extractFileAsync(this.asarData, '/' + this.normalizePath(filename))\n      node.content = new Uint8Array(content)\n      return node.content\n    }\n\n    throw new Error(`Content not available: ${filename}`)\n  }\n\n  async readTextFile(filename: string): Promise<string> {\n    const content = await this.readFile(filename)\n    return new TextDecoder('utf-8').decode(content)\n  }\n\n  async rename(oldName: string, newName: string, options?: { overwrite: boolean }): Promise<void> {\n    await this.copy(oldName, newName, options)\n    await this.delete(oldName, { recursive: true })\n  }\n\n  async stat(filename: string): Promise<FileStat> {\n    const node = this.getNode(filename)\n    if (!node) {\n      throw new Error(`Not found: ${filename}`)\n    }\n\n    return {\n      type: node.type as 0 | 1 | 2 | 64,\n      ctime: node.ctime,\n      mtime: node.mtime,\n      version: node.version,\n      size: node.size\n    }\n  }\n\n  async writeFile(\n    filename: string,\n    content: string | Uint8Array,\n    context?: FileSystemWatchContext\n  ): Promise<void> {\n    const data = typeof content === 'string' ? new TextEncoder().encode(content) : content\n\n    const parent = this.getOrCreateParent(filename)\n    const name = this.getFileName(filename)\n\n    if (!parent.children) {\n      parent.children = new Map()\n    }\n\n    const existingNode = parent.children.get(name)\n    const isCreate = !existingNode\n    const now = Date.now()\n\n    const fileNode: FileNode =\n      existingNode && existingNode.type === FileType.File\n        ? {\n            ...existingNode,\n            content: data,\n            size: data.length,\n            mtime: now,\n            version: existingNode.version + 1,\n            fromAsar: false\n          }\n        : this.createFileNode(data, false)\n\n    parent.children.set(name, fileNode)\n\n    this.notifyWatchers(isCreate ? 'create' : 'modify', filename, FileType.File, context)\n  }\n\n  watch(\n    filename: string,\n    optionsOrHandle: { recursive: boolean } | FileSystemWatchHandle,\n    handle?: FileSystemWatchHandle\n  ): () => void {\n    let options: { recursive: boolean }\n    let callback: FileSystemWatchHandle\n\n    if (typeof optionsOrHandle === 'function') {\n      options = { recursive: false }\n      callback = optionsOrHandle\n    } else {\n      options = optionsOrHandle\n      callback = handle!\n    }\n\n    const watcher: FileWatcher = {\n      path: this.normalizePath(filename),\n      recursive: options.recursive,\n      handle: callback\n    }\n\n    this.watchers.push(watcher)\n\n    // 返回取消监听的函数\n    return () => {\n      const index = this.watchers.indexOf(watcher)\n      if (index !== -1) {\n        this.watchers.splice(index, 1)\n      }\n    }\n  }\n\n  // ========== 扩展方法 ==========\n\n  /** 检查文件是否已修改 */\n  isModified(filename: string): boolean {\n    const node = this.getNode(filename)\n    return node ? !node.fromAsar : false\n  }\n\n  /** 获取所有已修改的文件路径 */\n  getModifiedFiles(): string[] {\n    const result: string[] = []\n\n    const traverse = (node: FileNode, path: string) => {\n      if (node.type === FileType.File && !node.fromAsar) {\n        result.push(path)\n      }\n      if (node.children) {\n        for (const [name, child] of node.children) {\n          traverse(child, path ? `${path}/${name}` : name)\n        }\n      }\n    }\n\n    traverse(this.root, '')\n    return result\n  }\n\n  /** 重置文件到原始状态 */\n  async resetFile(filename: string): Promise<void> {\n    if (!this.asarData || !this.asarId) {\n      throw new Error('No ASAR loaded')\n    }\n\n    const node = this.getNode(filename)\n    if (!node || node.type !== FileType.File) {\n      throw new Error(`Not a file: ${filename}`)\n    }\n\n    // 在 WebWorker 中从 ASAR 重新读取\n    const content = await extractFileAsync(this.asarData, '/' + this.normalizePath(filename))\n    node.content = new Uint8Array(content)\n    node.fromAsar = true\n    node.mtime = Date.now()\n    node.version++\n\n    this.notifyWatchers('modify', filename, FileType.File)\n  }\n\n  /** 获取文件树结构 */\n  getFileTree(): {\n    name: string\n    path: string\n    isDirectory: boolean\n    children?: unknown[]\n    size?: number\n    modified?: boolean\n  }[] {\n    const buildTree = (\n      node: FileNode,\n      path: string\n    ): {\n      name: string\n      path: string\n      isDirectory: boolean\n      children?: unknown[]\n      size?: number\n      modified?: boolean\n    }[] => {\n      if (!node.children) return []\n\n      const result: {\n        name: string\n        path: string\n        isDirectory: boolean\n        children?: unknown[]\n        size?: number\n        modified?: boolean\n      }[] = []\n\n      for (const [name, child] of node.children) {\n        const fullPath = path ? `${path}/${name}` : name\n        const item: {\n          name: string\n          path: string\n          isDirectory: boolean\n          children?: unknown[]\n          size?: number\n          modified?: boolean\n        } = {\n          name,\n          path: '/' + fullPath,\n          isDirectory: child.type === FileType.Directory\n        }\n\n        if (child.type === FileType.Directory) {\n          item.children = buildTree(child, fullPath)\n        } else {\n          item.size = child.size\n          item.modified = !child.fromAsar\n        }\n\n        result.push(item)\n      }\n\n      return result.sort((a, b) => {\n        if (a.isDirectory !== b.isDirectory) {\n          return a.isDirectory ? -1 : 1\n        }\n        return a.name.localeCompare(b.name)\n      })\n    }\n\n    return buildTree(this.root, '')\n  }\n}\n","import { SHA256 } from 'crypto-js'\nimport { nanoid } from 'nanoid'\n\nexport function prefixedNanoid(prefix: string = '', size: number = 21): string {\n  return `${prefix}_${nanoid(size)}`\n}\n\nexport async function sha256(data: ArrayBuffer): Promise<string> {\n  if (typeof crypto !== 'undefined' && 'subtle' in crypto) {\n    const hashBuffer = await crypto.subtle.digest('SHA-256', data)\n    const hashArray = Array.from(new Uint8Array(hashBuffer))\n    return hashArray.map((b) => b.toString(16).padStart(2, '0')).join('')\n  }\n\n  // @ts-expect-error - Fallback to crypto-js\n  const wordArray = SHA256(new Uint8Array(data))\n  return wordArray.toString()\n}\n","/**\n * ASAR Explorer Store\n * 使用 VueUse createGlobalState 管理全局状态\n */\n\nimport { ref, shallowRef, computed } from 'vue'\nimport { createGlobalState } from '@vueuse/core'\nimport type { AsarMeta, FileTreeNode } from '@/types/asar'\nimport { AsarFileSystem } from '@/utils/asar-filesystem'\nimport { modifyPackageAsync } from '@/lib/asar-browser'\nimport { prefixedNanoid } from '@/utils/crypto'\n\n/** 使用 createGlobalState 创建全局状态 */\nexport const useAsarStore = createGlobalState(() => {\n  // ========== 单例实例 ==========\n\n  /** ASAR 文件系统实例 */\n  const asarFS = new AsarFileSystem()\n\n  /** 当前加载的 ASAR 原始数据 */\n  let currentAsarData: ArrayBuffer | null = null\n\n  // ========== 响应式状态 ==========\n\n  /** 当前加载的 ASAR 元信息 */\n  const currentAsar = ref<AsarMeta | null>(null)\n\n  /** 文件树 */\n  const fileTree = shallowRef<FileTreeNode[]>([])\n\n  /** 当前打开的文件路径 */\n  const currentFile = ref<string | null>(null)\n\n  /** 是否正在加载 ASAR */\n  const isLoadingAsar = ref(false)\n\n  /** 是否正在保存 */\n  const isSaving = ref(false)\n\n  /** 是否正在重新打包 */\n  const isRepacking = ref(false)\n\n  /** 错误信息 */\n  const error = ref<string | null>(null)\n\n  /** 修改的文件集合 */\n  const modifiedFiles = ref<Set<string>>(new Set())\n\n  // ========== 计算属性 ==========\n\n  /** 是否有修改 */\n  const hasModifications = computed(() => modifiedFiles.value.size > 0)\n\n  /** 是否已加载 ASAR */\n  const asarLoaded = computed(() => currentAsar.value !== null)\n\n  // ========== ASAR 操作 ==========\n\n  /**\n   * 从文件加载 ASAR\n   */\n  async function loadFromFile(file: File): Promise<void> {\n    try {\n      isLoadingAsar.value = true\n      error.value = null\n\n      const buffer = await file.arrayBuffer()\n      await loadAsarData(buffer, file.name)\n    } catch (e) {\n      error.value = e instanceof Error ? e.message : String(e)\n      throw e\n    } finally {\n      isLoadingAsar.value = false\n    }\n  }\n\n  /**\n   * 从 URL 加载 ASAR\n   */\n  async function loadFromUrl(url: string): Promise<void> {\n    try {\n      isLoadingAsar.value = true\n      error.value = null\n\n      let buffer: ArrayBuffer\n      let fileName: string\n\n      if (url.startsWith('data:')) {\n        // 处理 Data URL\n        fileName = 'data-url.asar'\n        const base64 = url.split(',')[1] || ''\n        const binary = atob(base64)\n        const bytes = new Uint8Array(binary.length)\n        for (let i = 0; i < binary.length; i++) {\n          bytes[i] = binary.charCodeAt(i)\n        }\n        buffer = bytes.buffer\n      } else {\n        // 从 URL 获取\n        const urlObj = new URL(url)\n        fileName = urlObj.pathname.split('/').pop() || 'remote.asar'\n\n        const response = await fetch(url)\n        if (!response.ok) {\n          throw new Error(`Failed to fetch: ${response.status} ${response.statusText}`)\n        }\n        buffer = await response.arrayBuffer()\n      }\n\n      await loadAsarData(buffer, fileName)\n    } catch (e) {\n      error.value = e instanceof Error ? e.message : String(e)\n      throw e\n    } finally {\n      isLoadingAsar.value = false\n    }\n  }\n\n  /**\n   * 加载 ASAR 数据的内部方法\n   */\n  async function loadAsarData(data: ArrayBuffer, fileName: string): Promise<void> {\n    const asarId = prefixedNanoid('R')\n\n    // 保存原始数据\n    currentAsarData = data\n\n    // 创建元信息\n    const meta: AsarMeta = {\n      id: asarId,\n      name: fileName,\n      size: data.byteLength,\n      importedAt: Date.now(),\n      lastModifiedAt: Date.now()\n    }\n\n    // 加载到文件系统\n    await asarFS.loadFromAsar(data, asarId)\n\n    // 更新状态\n    currentAsar.value = meta\n    fileTree.value = asarFS.getFileTree() as FileTreeNode[]\n    modifiedFiles.value = new Set()\n    currentFile.value = null\n  }\n\n  /**\n   * 关闭当前 ASAR\n   */\n  function closeAsar(): void {\n    asarFS.clear()\n    currentAsar.value = null\n    currentAsarData = null\n    fileTree.value = []\n    modifiedFiles.value = new Set()\n    currentFile.value = null\n  }\n\n  // ========== 文件操作 ==========\n\n  /**\n   * 打开文件\n   * 更新 currentFile 状态，实际打开文件由 monaco-editor 组件的 watch 处理\n   */\n  async function openFile(path: string): Promise<void> {\n    // 更新当前文件路径，monaco-editor 组件会监听此变化并打开文件\n    currentFile.value = path\n  }\n\n  /**\n   * 保存当前文件\n   */\n  async function saveCurrentFile(): Promise<void> {\n    // 更新修改文件列表\n    modifiedFiles.value = new Set(asarFS.getModifiedFiles())\n    // 更新文件树（刷新修改状态）\n    fileTree.value = asarFS.getFileTree() as FileTreeNode[]\n  }\n\n  /**\n   * 重置文件到原始状态\n   */\n  async function resetFile(path: string): Promise<void> {\n    try {\n      await asarFS.resetFile(path.replace(/^\\/+/, ''))\n      modifiedFiles.value = new Set(asarFS.getModifiedFiles())\n      fileTree.value = asarFS.getFileTree() as FileTreeNode[]\n\n      // 如果是当前打开的文件，重新打开以刷新内容\n      if (currentFile.value === path) {\n        await openFile(path)\n      }\n    } catch (e) {\n      error.value = e instanceof Error ? e.message : String(e)\n      throw e\n    }\n  }\n\n  /**\n   * 重置所有文件\n   */\n  async function resetAllFiles(): Promise<void> {\n    if (!currentAsar.value || !currentAsarData) return\n\n    try {\n      // 重新加载 ASAR\n      await asarFS.loadFromAsar(currentAsarData, currentAsar.value.id)\n      fileTree.value = asarFS.getFileTree() as FileTreeNode[]\n      modifiedFiles.value = new Set()\n\n      // 重新打开当前文件\n      if (currentFile.value) {\n        await openFile(currentFile.value)\n      }\n    } catch (e) {\n      error.value = e instanceof Error ? e.message : String(e)\n      throw e\n    }\n  }\n\n  // ========== 导出操作 ==========\n\n  /**\n   * 下载修改后的 ASAR\n   */\n  async function downloadModifiedAsar(): Promise<void> {\n    if (!currentAsar.value || !currentAsarData) {\n      throw new Error('No ASAR loaded')\n    }\n\n    try {\n      isRepacking.value = true\n      error.value = null\n\n      // 收集所有修改\n      const modificationMap: Record<string, Uint8Array> = {}\n      const modifiedPaths = asarFS.getModifiedFiles()\n\n      for (const path of modifiedPaths) {\n        const content = await asarFS.readFile(path)\n        if (content) {\n          modificationMap[path] = content\n        }\n      }\n\n      // 在 WebWorker 中重新打包\n      const newAsarData = await modifyPackageAsync(currentAsarData, modificationMap)\n\n      // 创建下载\n      const blob = new Blob([newAsarData.buffer as ArrayBuffer], {\n        type: 'application/octet-stream'\n      })\n      const url = URL.createObjectURL(blob)\n      const a = document.createElement('a')\n      a.href = url\n      a.download = currentAsar.value.name.replace('.asar', '-modified.asar')\n      document.body.appendChild(a)\n      a.click()\n      document.body.removeChild(a)\n      URL.revokeObjectURL(url)\n    } catch (e) {\n      error.value = e instanceof Error ? e.message : String(e)\n      throw e\n    } finally {\n      isRepacking.value = false\n    }\n  }\n\n  /**\n   * 下载原始 ASAR\n   */\n  async function downloadOriginalAsar(): Promise<void> {\n    if (!currentAsar.value || !currentAsarData) {\n      throw new Error('No ASAR loaded')\n    }\n\n    const blob = new Blob([currentAsarData], { type: 'application/octet-stream' })\n    const url = URL.createObjectURL(blob)\n    const a = document.createElement('a')\n    a.href = url\n    a.download = currentAsar.value.name\n    document.body.appendChild(a)\n    a.click()\n    document.body.removeChild(a)\n    URL.revokeObjectURL(url)\n  }\n\n  // ========== 辅助方法 ==========\n\n  /**\n   * 获取 FileSystem 实例\n   */\n  function getFileSystem(): AsarFileSystem {\n    return asarFS\n  }\n\n  /**\n   * 刷新文件树\n   */\n  function refreshFileTree(): void {\n    fileTree.value = asarFS.getFileTree() as FileTreeNode[]\n    modifiedFiles.value = new Set(asarFS.getModifiedFiles())\n  }\n\n  return {\n    // 状态\n    currentAsar,\n    fileTree,\n    currentFile,\n    isLoadingAsar,\n    isSaving,\n    isRepacking,\n    error,\n    modifiedFiles,\n    // 计算属性\n    hasModifications,\n    asarLoaded,\n    // 方法\n    loadFromFile,\n    loadFromUrl,\n    closeAsar,\n    openFile,\n    saveCurrentFile,\n    resetFile,\n    resetAllFiles,\n    downloadModifiedAsar,\n    downloadOriginalAsar,\n    getFileSystem,\n    refreshFileTree\n  }\n})\n","<script setup lang=\"ts\">\nimport { Upload, Link, Loader2 } from 'lucide-vue-next'\nimport { useI18n } from 'vue-i18n'\nimport { ref } from 'vue'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { useAsarStore } from '@/stores/asar'\nimport { toast } from 'vue-sonner'\n\nconst { t } = useI18n()\n\nconst { loadFromFile, loadFromUrl, isLoadingAsar, error } = useAsarStore()\n\nconst urlInput = ref('')\nconst fileInputRef = ref<HTMLInputElement | null>(null)\n\n// 处理文件选择\nfunction handleFileSelect() {\n  fileInputRef.value?.click()\n}\n\nasync function onFileChange(event: Event) {\n  const input = event.target as HTMLInputElement\n  const file = input.files?.[0]\n  if (!file) return\n\n  try {\n    toast.info(t('uploader.loadingAsar'))\n    await loadFromFile(file)\n    toast.success(t('uploader.loadSuccess'))\n  } catch (e) {\n    console.error('Failed to load file:', e)\n    toast.error(t('uploader.loadFailed'), {\n      description: e instanceof Error ? e.message : String(e)\n    })\n  } finally {\n    input.value = ''\n  }\n}\n\n// 处理 URL 加载\nasync function handleUrlLoad() {\n  if (!urlInput.value.trim()) return\n\n  try {\n    toast.info(t('uploader.loadingAsar'))\n    await loadFromUrl(urlInput.value.trim())\n    toast.success(t('uploader.loadSuccess'))\n    urlInput.value = ''\n  } catch (e) {\n    console.error('Failed to load from URL:', e)\n    toast.error(t('uploader.loadFailed'), {\n      description: e instanceof Error ? e.message : String(e)\n    })\n  }\n}\n\n// 处理文件拖放\nfunction handleDragOver(event: DragEvent) {\n  event.preventDefault()\n  event.dataTransfer!.dropEffect = 'copy'\n}\n\nasync function handleDrop(event: DragEvent) {\n  event.preventDefault()\n  const file = event.dataTransfer?.files[0]\n  if (!file || !file.name.endsWith('.asar')) return\n\n  try {\n    await loadFromFile(file)\n  } catch (e) {\n    console.error('Failed to load dropped file:', e)\n  }\n}\n</script>\n\n<template>\n  <div\n    class=\"flex flex-col items-center justify-center min-h-[400px] p-8 space-y-8 w-full max-w-2xl\"\n    @dragover=\"handleDragOver\"\n    @drop=\"handleDrop\"\n  >\n    <!-- 标题 -->\n    <div class=\"text-center space-y-2\">\n      <h1 class=\"text-3xl font-bold\">{{ t('app.title') }}</h1>\n      <p class=\"text-muted-foreground\">{{ t('app.description') }}</p>\n    </div>\n\n    <!-- 错误提示 -->\n    <div v-if=\"error\" class=\"text-destructive text-center max-w-md\">\n      {{ error }}\n    </div>\n\n    <!-- 上传区域 -->\n    <div v-if=\"!isLoadingAsar\" class=\"w-full space-y-4\">\n      <!-- 文件上传 -->\n      <div\n        class=\"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center hover:border-muted-foreground/50 transition-colors cursor-pointer\"\n        @click=\"handleFileSelect\"\n      >\n        <Upload class=\"w-12 h-12 mx-auto mb-4 text-muted-foreground\" />\n        <p class=\"text-lg font-medium\">{{ t('uploader.dropOrClick') }}</p>\n        <p class=\"text-sm text-muted-foreground mt-1\">{{ t('uploader.supportFormat') }}</p>\n        <input\n          ref=\"fileInputRef\"\n          type=\"file\"\n          accept=\".asar\"\n          class=\"hidden\"\n          @change=\"onFileChange\"\n        />\n      </div>\n\n      <!-- 分隔线 -->\n      <div class=\"flex items-center gap-4\">\n        <div class=\"flex-1 h-px bg-border\" />\n        <span class=\"text-sm text-muted-foreground\">{{ t('common.or') }}</span>\n        <div class=\"flex-1 h-px bg-border\" />\n      </div>\n\n      <!-- URL 输入 -->\n      <div class=\"flex gap-2\">\n        <Input\n          v-model=\"urlInput\"\n          :placeholder=\"t('uploader.inputUrlPlaceholder')\"\n          class=\"flex-1\"\n          @keyup.enter=\"handleUrlLoad\"\n        />\n        <Button @click=\"handleUrlLoad\" :disabled=\"!urlInput.trim()\">\n          <Link class=\"size-4\" />\n          {{ t('common.load') }}\n        </Button>\n      </div>\n    </div>\n\n    <!-- 加载中 -->\n    <div v-if=\"isLoadingAsar\" class=\"flex items-center gap-2\">\n      <Loader2 class=\"w-5 h-5 animate-spin\" />\n      <span>{{ t('uploader.loadingAsar') }}</span>\n    </div>\n  </div>\n</template>\n","<script setup lang=\"ts\">\n/**\n * Monaco Editor 组件\n * 使用 modern-monaco 作为编辑器，不使用 Workspace\n */\nimport { onMounted, onBeforeUnmount, ref, watch, shallowRef } from 'vue'\nimport { init } from 'modern-monaco'\nimport { Loader2 } from 'lucide-vue-next'\nimport { useAsarStore } from '@/stores/asar'\n\nconst containerRef = ref<HTMLElement | null>(null)\nconst isLoading = ref(true)\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst editor = shallowRef<any>(null)\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst currentModel = shallowRef<any>(null)\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nlet monaco: any = null\n\nconst { getFileSystem, currentFile, refreshFileTree, error } = useAsarStore()\n\n// 根据文件扩展名获取语言\nfunction getLanguageFromPath(path: string): string {\n  const ext = path.split('.').pop()?.toLowerCase() || ''\n  const languageMap: Record<string, string> = {\n    js: 'javascript',\n    jsx: 'javascript',\n    ts: 'typescript',\n    tsx: 'typescript',\n    json: 'json',\n    html: 'html',\n    htm: 'html',\n    css: 'css',\n    scss: 'scss',\n    less: 'less',\n    md: 'markdown',\n    xml: 'xml',\n    yaml: 'yaml',\n    yml: 'yaml',\n    py: 'python',\n    sh: 'shell',\n    bash: 'shell',\n    vue: 'html',\n    svelte: 'html',\n    sql: 'sql',\n    graphql: 'graphql',\n    gql: 'graphql'\n  }\n  return languageMap[ext] || 'plaintext'\n}\n\n// 监听 currentFile 变化，加载文件内容到编辑器\nwatch(currentFile, async (newPath) => {\n  if (!editor.value || !newPath) return\n\n  try {\n    const fs = getFileSystem()\n    const normalizedPath = newPath.replace(/^\\/+/, '')\n    const content = await fs.readFile(normalizedPath)\n\n    if (!content) {\n      console.error('File not found:', normalizedPath)\n      return\n    }\n\n    // 解码文件内容\n    const text = new TextDecoder().decode(content)\n    const language = getLanguageFromPath(newPath)\n\n    // 创建新的 model 或更新现有的\n    if (currentModel.value) {\n      currentModel.value.dispose()\n    }\n\n    const uri = monaco.Uri.parse(`file:///${normalizedPath}`)\n    const existingModel = monaco.editor.getModel(uri)\n    if (existingModel) {\n      existingModel.setValue(text)\n      currentModel.value = existingModel\n    } else {\n      currentModel.value = monaco.editor.createModel(text, language, uri)\n    }\n\n    editor.value.setModel(currentModel.value)\n  } catch (e) {\n    console.error('Failed to open file:', e)\n    error.value = e instanceof Error ? e.message : String(e)\n  }\n})\n\nonMounted(async () => {\n  if (!containerRef.value) return\n\n  try {\n    // 初始化 modern-monaco\n    monaco = await init({ theme: 'nord' })\n\n    // 创建编辑器实例\n    editor.value = monaco.editor.create(containerRef.value, {\n      theme: 'nord',\n      automaticLayout: true,\n      minimap: { enabled: true },\n      fontSize: 14,\n      lineNumbers: 'on',\n      wordWrap: 'on',\n      scrollBeyondLastLine: false,\n      tabSize: 2,\n      insertSpaces: true,\n      renderWhitespace: 'selection',\n      'bracketPairColorization.enabled': true\n    })\n\n    // 监听内容变化，保存到文件系统\n    editor.value.onDidChangeModelContent(async () => {\n      if (!currentFile.value || !currentModel.value) return\n\n      const fs = getFileSystem()\n      const content = currentModel.value.getValue()\n      const normalizedPath = currentFile.value.replace(/^\\/+/, '')\n\n      try {\n        await fs.writeFile(normalizedPath, content)\n        refreshFileTree()\n      } catch (e) {\n        console.error('Failed to save file:', e)\n      }\n    })\n\n    isLoading.value = false\n    console.log('Monaco editor initialized')\n  } catch (e) {\n    console.error('Failed to initialize editor:', e)\n    error.value = e instanceof Error ? e.message : String(e)\n    isLoading.value = false\n  }\n})\n\nonBeforeUnmount(() => {\n  if (currentModel.value) {\n    currentModel.value.dispose()\n    currentModel.value = null\n  }\n  if (editor.value) {\n    editor.value.dispose()\n    editor.value = null\n  }\n})\n\n// 暴露编辑器实例和 model，供外部调用（如格式化）\ndefineExpose({\n  getEditor: () => editor.value,\n  getModel: () => currentModel.value\n})\n</script>\n\n<template>\n  <div class=\"monaco-container relative w-full h-full\">\n    <!-- Loading 占位 -->\n    <div\n      v-if=\"isLoading\"\n      class=\"absolute inset-0 flex items-center justify-center bg-background z-10\"\n    >\n      <div class=\"flex items-center gap-2 text-muted-foreground\">\n        <Loader2 class=\"w-5 h-5 animate-spin\" />\n        <span>Loading editor...</span>\n      </div>\n    </div>\n\n    <!-- Monaco Editor 容器 -->\n    <div ref=\"containerRef\" class=\"w-full h-full\" />\n  </div>\n</template>\n\n<style scoped>\n.monaco-container {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","<script setup lang=\"ts\">\n/**\n * 图像预览组件\n * 用于预览 ASAR 中的图像文件\n */\nimport { ref, watch, onBeforeUnmount } from 'vue'\nimport { useAsarStore } from '@/stores/asar'\n\nconst { currentFile, getFileSystem } = useAsarStore()\n\nconst imageUrl = ref<string | null>(null)\nconst error = ref<string | null>(null)\nconst loading = ref(false)\n\n// 获取文件的 MIME 类型\nfunction getMimeType(filename: string): string {\n  const ext = filename.toLowerCase().split('.').pop() || ''\n  const mimeTypes: Record<string, string> = {\n    png: 'image/png',\n    jpg: 'image/jpeg',\n    jpeg: 'image/jpeg',\n    gif: 'image/gif',\n    webp: 'image/webp',\n    svg: 'image/svg+xml',\n    ico: 'image/x-icon',\n    bmp: 'image/bmp'\n  }\n  return mimeTypes[ext] || 'application/octet-stream'\n}\n\n// 加载图像\nasync function loadImage(path: string) {\n  loading.value = true\n  error.value = null\n\n  // 清理旧的 URL\n  if (imageUrl.value) {\n    URL.revokeObjectURL(imageUrl.value)\n    imageUrl.value = null\n  }\n\n  try {\n    const fs = getFileSystem()\n    const normalizedPath = path.replace(/^\\/+/, '')\n    const content = await fs.readFile(normalizedPath)\n    const mimeType = getMimeType(path)\n    const blob = new Blob([content.buffer as ArrayBuffer], { type: mimeType })\n    imageUrl.value = URL.createObjectURL(blob)\n  } catch (e) {\n    console.error('Failed to load image:', e)\n    error.value = e instanceof Error ? e.message : String(e)\n  } finally {\n    loading.value = false\n  }\n}\n\n// 监听文件变化\nwatch(\n  currentFile,\n  (newPath) => {\n    if (newPath) {\n      loadImage(newPath)\n    }\n  },\n  { immediate: true }\n)\n\n// 清理 URL\nonBeforeUnmount(() => {\n  if (imageUrl.value) {\n    URL.revokeObjectURL(imageUrl.value)\n  }\n})\n</script>\n\n<template>\n  <div class=\"w-full h-full flex items-center justify-center bg-background/50 p-4 overflow-auto\">\n    <!-- 加载中 -->\n    <div v-if=\"loading\" class=\"text-muted-foreground\">加载中...</div>\n\n    <!-- 错误 -->\n    <div v-else-if=\"error\" class=\"text-destructive text-center\">\n      <p>无法加载图像</p>\n      <p class=\"text-sm mt-1\">{{ error }}</p>\n    </div>\n\n    <!-- 图像 -->\n    <img\n      v-else-if=\"imageUrl\"\n      :src=\"imageUrl\"\n      :alt=\"currentFile || ''\"\n      class=\"max-w-full max-h-full object-contain shadow-lg rounded\"\n    />\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport type { AlertDialogEmits, AlertDialogProps } from \"reka-ui\"\nimport { AlertDialogRoot, useForwardPropsEmits } from \"reka-ui\"\n\nconst props = defineProps<AlertDialogProps>()\nconst emits = defineEmits<AlertDialogEmits>()\n\nconst forwarded = useForwardPropsEmits(props, emits)\n</script>\n\n<template>\n  <AlertDialogRoot v-slot=\"slotProps\" data-slot=\"alert-dialog\" v-bind=\"forwarded\">\n    <slot v-bind=\"slotProps\" />\n  </AlertDialogRoot>\n</template>\n","<script setup lang=\"ts\">\nimport type { AlertDialogActionProps } from \"reka-ui\"\nimport type { HTMLAttributes } from \"vue\"\nimport { reactiveOmit } from \"@vueuse/core\"\nimport { AlertDialogAction } from \"reka-ui\"\nimport { cn } from '@/utils/shadcn'\nimport { buttonVariants } from '@/components/ui/button'\n\nconst props = defineProps<AlertDialogActionProps & { class?: HTMLAttributes[\"class\"] }>()\n\nconst delegatedProps = reactiveOmit(props, \"class\")\n</script>\n\n<template>\n  <AlertDialogAction v-bind=\"delegatedProps\" :class=\"cn(buttonVariants(), props.class)\">\n    <slot />\n  </AlertDialogAction>\n</template>\n","<script setup lang=\"ts\">\nimport type { AlertDialogCancelProps } from \"reka-ui\"\nimport type { HTMLAttributes } from \"vue\"\nimport { reactiveOmit } from \"@vueuse/core\"\nimport { AlertDialogCancel } from \"reka-ui\"\nimport { cn } from '@/utils/shadcn'\nimport { buttonVariants } from '@/components/ui/button'\n\nconst props = defineProps<AlertDialogCancelProps & { class?: HTMLAttributes[\"class\"] }>()\n\nconst delegatedProps = reactiveOmit(props, \"class\")\n</script>\n\n<template>\n  <AlertDialogCancel\n    v-bind=\"delegatedProps\"\n    :class=\"cn(\n      buttonVariants({ variant: 'outline' }),\n      'mt-2 sm:mt-0',\n      props.class,\n    )\"\n  >\n    <slot />\n  </AlertDialogCancel>\n</template>\n","<script setup lang=\"ts\">\nimport type { AlertDialogContentEmits, AlertDialogContentProps } from \"reka-ui\"\nimport type { HTMLAttributes } from \"vue\"\nimport { reactiveOmit } from \"@vueuse/core\"\nimport {\n  AlertDialogContent,\n  AlertDialogOverlay,\n  AlertDialogPortal,\n  useForwardPropsEmits,\n} from \"reka-ui\"\nimport { cn } from '@/utils/shadcn'\n\ndefineOptions({\n  inheritAttrs: false,\n})\n\nconst props = defineProps<AlertDialogContentProps & { class?: HTMLAttributes[\"class\"] }>()\nconst emits = defineEmits<AlertDialogContentEmits>()\n\nconst delegatedProps = reactiveOmit(props, \"class\")\n\nconst forwarded = useForwardPropsEmits(delegatedProps, emits)\n</script>\n\n<template>\n  <AlertDialogPortal>\n    <AlertDialogOverlay\n      data-slot=\"alert-dialog-overlay\"\n      class=\"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80\"\n    />\n    <AlertDialogContent\n      data-slot=\"alert-dialog-content\"\n      v-bind=\"{ ...$attrs, ...forwarded }\"\n      :class=\"\n        cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\n          props.class,\n        )\n      \"\n    >\n      <slot />\n    </AlertDialogContent>\n  </AlertDialogPortal>\n</template>\n","<script setup lang=\"ts\">\nimport type { AlertDialogDescriptionProps } from \"reka-ui\"\nimport type { HTMLAttributes } from \"vue\"\nimport { reactiveOmit } from \"@vueuse/core\"\nimport {\n  AlertDialogDescription,\n} from \"reka-ui\"\nimport { cn } from '@/utils/shadcn'\n\nconst props = defineProps<AlertDialogDescriptionProps & { class?: HTMLAttributes[\"class\"] }>()\n\nconst delegatedProps = reactiveOmit(props, \"class\")\n</script>\n\n<template>\n  <AlertDialogDescription\n    data-slot=\"alert-dialog-description\"\n    v-bind=\"delegatedProps\"\n    :class=\"cn('text-muted-foreground text-sm', props.class)\"\n  >\n    <slot />\n  </AlertDialogDescription>\n</template>\n","<script setup lang=\"ts\">\nimport type { HTMLAttributes } from \"vue\"\nimport { cn } from '@/utils/shadcn'\n\nconst props = defineProps<{\n  class?: HTMLAttributes[\"class\"]\n}>()\n</script>\n\n<template>\n  <div\n    data-slot=\"alert-dialog-footer\"\n    :class=\"\n      cn(\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\n        props.class,\n      )\n    \"\n  >\n    <slot />\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport type { HTMLAttributes } from \"vue\"\nimport { cn } from '@/utils/shadcn'\n\nconst props = defineProps<{\n  class?: HTMLAttributes[\"class\"]\n}>()\n</script>\n\n<template>\n  <div\n    data-slot=\"alert-dialog-header\"\n    :class=\"cn('flex flex-col gap-2 text-center sm:text-left', props.class)\"\n  >\n    <slot />\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport type { AlertDialogTitleProps } from \"reka-ui\"\nimport type { HTMLAttributes } from \"vue\"\nimport { reactiveOmit } from \"@vueuse/core\"\nimport { AlertDialogTitle } from \"reka-ui\"\nimport { cn } from '@/utils/shadcn'\n\nconst props = defineProps<AlertDialogTitleProps & { class?: HTMLAttributes[\"class\"] }>()\n\nconst delegatedProps = reactiveOmit(props, \"class\")\n</script>\n\n<template>\n  <AlertDialogTitle\n    data-slot=\"alert-dialog-title\"\n    v-bind=\"delegatedProps\"\n    :class=\"cn('text-lg font-semibold', props.class)\"\n  >\n    <slot />\n  </AlertDialogTitle>\n</template>\n","<script setup lang=\"ts\">\nimport { ref } from 'vue'\nimport { useI18n } from 'vue-i18n'\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle\n} from '@/components/ui/alert-dialog'\n\nconst { t } = useI18n()\n\ninterface Props {\n  title: string\n  description: string\n  confirmText?: string\n  cancelText?: string\n  variant?: 'default' | 'destructive'\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  variant: 'default'\n})\n\nconst emit = defineEmits<{\n  confirm: []\n  cancel: []\n}>()\n\nconst open = ref(false)\n\n// 用于外部调用的 Promise 解析函数\nlet resolvePromise: ((value: boolean) => void) | null = null\n\n// 打开对话框并返回 Promise\nfunction show(): Promise<boolean> {\n  open.value = true\n  return new Promise((resolve) => {\n    resolvePromise = resolve\n  })\n}\n\nfunction handleConfirm() {\n  open.value = false\n  emit('confirm')\n  resolvePromise?.(true)\n  resolvePromise = null\n}\n\nfunction handleCancel() {\n  open.value = false\n  emit('cancel')\n  resolvePromise?.(false)\n  resolvePromise = null\n}\n\ndefineExpose({\n  show\n})\n</script>\n\n<template>\n  <AlertDialog v-model:open=\"open\">\n    <AlertDialogContent>\n      <AlertDialogHeader>\n        <AlertDialogTitle>{{ title }}</AlertDialogTitle>\n        <AlertDialogDescription>{{ description }}</AlertDialogDescription>\n      </AlertDialogHeader>\n      <AlertDialogFooter>\n        <AlertDialogCancel @click=\"handleCancel\">\n          {{ cancelText || t('common.cancel') }}\n        </AlertDialogCancel>\n        <AlertDialogAction\n          :class=\"variant === 'destructive' ? 'bg-destructive hover:bg-destructive/90' : ''\"\n          @click=\"handleConfirm\"\n        >\n          {{ confirmText || t('common.confirm') }}\n        </AlertDialogAction>\n      </AlertDialogFooter>\n    </AlertDialogContent>\n  </AlertDialog>\n</template>\n","<script setup lang=\"ts\">\nimport type { SplitterResizeHandleEmits, SplitterResizeHandleProps } from \"reka-ui\"\nimport type { HTMLAttributes } from \"vue\"\nimport { reactiveOmit } from \"@vueuse/core\"\nimport { GripVertical } from \"lucide-vue-next\"\nimport { SplitterResizeHandle, useForwardPropsEmits } from \"reka-ui\"\nimport { cn } from '@/utils/shadcn'\n\nconst props = defineProps<SplitterResizeHandleProps & { class?: HTMLAttributes[\"class\"], withHandle?: boolean }>()\nconst emits = defineEmits<SplitterResizeHandleEmits>()\n\nconst delegatedProps = reactiveOmit(props, \"class\", \"withHandle\")\nconst forwarded = useForwardPropsEmits(delegatedProps, emits)\n</script>\n\n<template>\n  <SplitterResizeHandle\n    data-slot=\"resizable-handle\"\n    v-bind=\"forwarded\"\n    :class=\"cn('bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[orientation=vertical]:h-px data-[orientation=vertical]:w-full data-[orientation=vertical]:after:left-0 data-[orientation=vertical]:after:h-1 data-[orientation=vertical]:after:w-full data-[orientation=vertical]:after:-translate-y-1/2 data-[orientation=vertical]:after:translate-x-0 [&[data-orientation=vertical]>div]:rotate-90', props.class)\"\n  >\n    <template v-if=\"props.withHandle\">\n      <div class=\"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border\">\n        <slot>\n          <GripVertical class=\"size-2.5\" />\n        </slot>\n      </div>\n    </template>\n  </SplitterResizeHandle>\n</template>\n","<script setup lang=\"ts\">\nimport type { SplitterPanelEmits, SplitterPanelProps } from \"reka-ui\"\nimport { SplitterPanel, useForwardExpose, useForwardPropsEmits } from \"reka-ui\"\n\nconst props = defineProps<SplitterPanelProps>()\nconst emits = defineEmits<SplitterPanelEmits>()\n\nconst forwarded = useForwardPropsEmits(props, emits)\nuseForwardExpose()\n</script>\n\n<template>\n  <SplitterPanel\n    v-slot=\"slotProps\"\n    data-slot=\"resizable-panel\"\n    v-bind=\"forwarded\"\n  >\n    <slot v-bind=\"slotProps\" />\n  </SplitterPanel>\n</template>\n","<script setup lang=\"ts\">\nimport type { SplitterGroupEmits, SplitterGroupProps } from \"reka-ui\"\nimport type { HTMLAttributes } from \"vue\"\nimport { reactiveOmit } from \"@vueuse/core\"\nimport { SplitterGroup, useForwardPropsEmits } from \"reka-ui\"\nimport { cn } from '@/utils/shadcn'\n\nconst props = defineProps<SplitterGroupProps & { class?: HTMLAttributes[\"class\"] }>()\nconst emits = defineEmits<SplitterGroupEmits>()\n\nconst delegatedProps = reactiveOmit(props, \"class\")\n\nconst forwarded = useForwardPropsEmits(delegatedProps, emits)\n</script>\n\n<template>\n  <SplitterGroup\n    v-slot=\"slotProps\"\n    data-slot=\"resizable-panel-group\"\n    v-bind=\"forwarded\"\n    :class=\"cn('flex h-full w-full data-[orientation=vertical]:flex-col', props.class)\"\n  >\n    <slot v-bind=\"slotProps\" />\n  </SplitterGroup>\n</template>\n","<script lang=\"ts\" setup>\nimport type { ToasterProps } from \"vue-sonner\"\nimport { CircleCheckIcon, InfoIcon, Loader2Icon, OctagonXIcon, TriangleAlertIcon, XIcon } from \"lucide-vue-next\"\nimport { Toaster as Sonner } from \"vue-sonner\"\nimport { cn } from '@/utils/shadcn'\n\nconst props = defineProps<ToasterProps>()\n</script>\n\n<template>\n  <Sonner\n    :class=\"cn('toaster group', props.class)\"\n    :style=\"{\n      '--normal-bg': 'var(--popover)',\n      '--normal-text': 'var(--popover-foreground)',\n      '--normal-border': 'var(--border)',\n      '--border-radius': 'var(--radius)',\n    }\"\n    v-bind=\"props\"\n  >\n    <template #success-icon>\n      <CircleCheckIcon class=\"size-4\" />\n    </template>\n    <template #info-icon>\n      <InfoIcon class=\"size-4\" />\n    </template>\n    <template #warning-icon>\n      <TriangleAlertIcon class=\"size-4\" />\n    </template>\n    <template #error-icon>\n      <OctagonXIcon class=\"size-4\" />\n    </template>\n    <template #loading-icon>\n      <div>\n        <Loader2Icon class=\"size-4 animate-spin\" />\n      </div>\n    </template>\n    <template #close-icon>\n      <XIcon class=\"size-4\" />\n    </template>\n  </Sonner>\n</template>\n","<script setup lang=\"ts\">\nimport { defineAsyncComponent, computed, ref } from 'vue'\nimport { Download, Wand2, Loader2, Undo2, PackageSearch } from 'lucide-vue-next'\nimport { useI18n } from 'vue-i18n'\nimport * as prettier from 'prettier/standalone'\nimport prettierPluginBabel from 'prettier/plugins/babel'\nimport prettierPluginEstree from 'prettier/plugins/estree'\nimport prettierPluginHtml from 'prettier/plugins/html'\nimport prettierPluginCss from 'prettier/plugins/postcss'\nimport prettierPluginMarkdown from 'prettier/plugins/markdown'\nimport prettierPluginYaml from 'prettier/plugins/yaml'\nimport prettierPluginGraphql from 'prettier/plugins/graphql'\nimport prettierPluginTypescript from 'prettier/plugins/typescript'\nimport AsarUploader from '@/components/asar-uploader.vue'\nimport MonacoEditor from '@/components/monaco-editor.vue'\nimport ImagePreview from '@/components/image-preview.vue'\nimport AlertDialogConfirm from '@/components/alert-dialog-confirm.vue'\nimport { ResizablePanelGroup, ResizablePanel, ResizableHandle } from '@/components/ui/resizable'\nimport { Button } from '@/components/ui/button'\nimport { useAsarStore } from '@/stores/asar'\nimport { Toaster } from './components/ui/sonner'\nimport { toast } from 'vue-sonner'\nimport 'vue-sonner/style.css'\n\nconst { t } = useI18n()\n\nconst AsarSidebar = defineAsyncComponent(() => import('@/components/asar-sidebar.vue'))\n\nconst { asarLoaded, currentFile, modifiedFiles, resetFile, getFileSystem } = useAsarStore()\n\nconst monacoEditorRef = ref<InstanceType<typeof MonacoEditor> | null>(null)\nconst isFormatting = ref(false)\nconst revertDialogRef = ref<InstanceType<typeof AlertDialogConfirm> | null>(null)\n\n// 当前文件是否已修改\nconst isCurrentFileModified = computed(() => {\n  if (!currentFile.value) return false\n  const normalizedPath = currentFile.value.replace(/^\\/+/, '')\n  return modifiedFiles.value.has(normalizedPath)\n})\n\n// 撤销当前文件修改\nasync function revertCurrentFile() {\n  if (!currentFile.value) return\n  const confirmed = await revertDialogRef.value?.show()\n  if (confirmed) {\n    try {\n      await resetFile(currentFile.value)\n      toast.success(t('app.revertSuccess'))\n    } catch (e) {\n      console.error('Revert failed:', e)\n      toast.error(t('app.revertFailed'), {\n        description: e instanceof Error ? e.message : String(e)\n      })\n    }\n  }\n}\n\n// 图像文件扩展名\nconst IMAGE_EXTENSIONS = ['.png', '.jpg', '.jpeg', '.gif', '.webp', '.svg', '.ico', '.bmp']\n\n// 判断当前文件是否为图像\nconst isImageFile = computed(() => {\n  if (!currentFile.value) return false\n  const ext = currentFile.value.toLowerCase().split('.').pop()\n  return ext ? IMAGE_EXTENSIONS.includes('.' + ext) : false\n})\n\n// 根据文件扩展名获取 Prettier parser\nfunction getPrettierParser(path: string): string | null {\n  const ext = path.split('.').pop()?.toLowerCase() || ''\n  const parserMap: Record<string, string> = {\n    js: 'babel',\n    jsx: 'babel',\n    ts: 'typescript',\n    tsx: 'typescript',\n    json: 'json',\n    html: 'html',\n    htm: 'html',\n    vue: 'html',\n    svelte: 'html',\n    css: 'css',\n    scss: 'scss',\n    less: 'less',\n    md: 'markdown',\n    markdown: 'markdown',\n    yaml: 'yaml',\n    yml: 'yaml',\n    graphql: 'graphql',\n    gql: 'graphql'\n  }\n  return parserMap[ext] || null\n}\n\n// 判断当前文件是否支持格式化\nconst canFormat = computed(() => {\n  if (!currentFile.value || isImageFile.value) return false\n  return getPrettierParser(currentFile.value) !== null\n})\n\n// 格式化当前文件\nasync function formatCurrentFile() {\n  if (!currentFile.value || !monacoEditorRef.value) return\n\n  const parser = getPrettierParser(currentFile.value)\n  if (!parser) {\n    toast.error(t('app.formatUnsupported'))\n    return\n  }\n\n  const model = monacoEditorRef.value.getModel()\n  if (!model) return\n\n  try {\n    isFormatting.value = true\n    const code = model.getValue()\n\n    const formatted = await prettier.format(code, {\n      parser,\n      plugins: [\n        prettierPluginBabel,\n        prettierPluginEstree,\n        prettierPluginHtml,\n        prettierPluginCss,\n        prettierPluginMarkdown,\n        prettierPluginYaml,\n        prettierPluginGraphql,\n        prettierPluginTypescript\n      ],\n      tabWidth: 2,\n      useTabs: false,\n      semi: false,\n      singleQuote: true,\n      trailingComma: 'none',\n      printWidth: 100\n    })\n\n    // 更新编辑器内容\n    model.setValue(formatted)\n    toast.success(t('app.formatSuccess'))\n  } catch (e) {\n    console.error('Format failed:', e)\n    toast.error(t('app.formatFailed'), {\n      description: e instanceof Error ? e.message : String(e)\n    })\n  } finally {\n    isFormatting.value = false\n  }\n}\n\n// 下载当前文件\nasync function downloadCurrentFile() {\n  if (!currentFile.value) return\n\n  try {\n    const fs = getFileSystem()\n    const normalizedPath = currentFile.value.replace(/^\\/+/, '')\n    const content = await fs.readFile(normalizedPath)\n    const fileName = currentFile.value.split('/').pop() || 'file'\n\n    const blob = new Blob([content.buffer as ArrayBuffer], { type: 'application/octet-stream' })\n    const url = URL.createObjectURL(blob)\n    const a = document.createElement('a')\n    a.href = url\n    a.download = fileName\n    document.body.appendChild(a)\n    a.click()\n    document.body.removeChild(a)\n    URL.revokeObjectURL(url)\n\n    toast.success(t('app.downloadSuccess'))\n  } catch (e) {\n    console.error('Failed to download file:', e)\n    toast.error(t('app.downloadFailed'), {\n      description: e instanceof Error ? e.message : String(e)\n    })\n  }\n}\n</script>\n\n<template>\n  <Toaster />\n  <!-- 未加载 ASAR -->\n  <div v-if=\"!asarLoaded\" class=\"min-h-screen flex items-center justify-center bg-background\">\n    <AsarUploader />\n  </div>\n\n  <!-- 已加载 ASAR - 使用 Resizable 布局 -->\n  <ResizablePanelGroup v-else direction=\"horizontal\" class=\"h-screen\">\n    <!-- Sidebar 面板 -->\n    <ResizablePanel :default-size=\"20\" :min-size=\"20\" :max-size=\"50\" class=\"bg-sidebar\">\n      <AsarSidebar />\n    </ResizablePanel>\n\n    <!-- 拖拽手柄 -->\n    <ResizableHandle with-handle />\n\n    <!-- 主内容面板 -->\n    <ResizablePanel :default-size=\"80\" class=\"flex flex-col h-screen\">\n      <!-- 顶部栏 -->\n      <header class=\"flex h-12 shrink-0 items-center justify-between gap-2 border-b px-4\">\n        <div class=\"flex items-center gap-2 min-w-0 flex-1\">\n          <span v-if=\"currentFile\" class=\"text-sm font-medium ml-2 truncate\" :title=\"currentFile\">\n            {{ currentFile }}\n          </span>\n        </div>\n        <div class=\"flex items-center gap-1 shrink-0\">\n          <!-- 撤销修改按钮 -->\n          <Button\n            v-if=\"isCurrentFileModified\"\n            variant=\"ghost\"\n            size=\"icon\"\n            @click=\"revertCurrentFile\"\n            :title=\"t('app.revertFile')\"\n            class=\"text-orange-500 hover:text-orange-600\"\n          >\n            <Undo2 class=\"size-4\" />\n          </Button>\n          <!-- 格式化按钮 -->\n          <Button\n            v-if=\"canFormat\"\n            variant=\"ghost\"\n            size=\"icon\"\n            :disabled=\"isFormatting\"\n            @click=\"formatCurrentFile\"\n            :title=\"t('app.formatFile')\"\n          >\n            <Loader2 v-if=\"isFormatting\" class=\"size-4 animate-spin\" />\n            <Wand2 v-else class=\"size-4\" />\n          </Button>\n          <!-- 下载按钮 -->\n          <Button\n            v-if=\"currentFile\"\n            variant=\"ghost\"\n            size=\"icon\"\n            @click=\"downloadCurrentFile\"\n            :title=\"t('app.downloadFile')\"\n          >\n            <Download class=\"size-4\" />\n          </Button>\n        </div>\n      </header>\n\n      <!-- 主内容区 - 根据文件类型显示不同内容 -->\n      <main class=\"flex-1 min-h-0 relative\">\n        <!-- 未选择文件时的占位提示 -->\n        <div\n          v-if=\"!currentFile\"\n          class=\"absolute inset-0 flex flex-col items-center justify-center text-muted-foreground\"\n        >\n          <PackageSearch class=\"size-16 mb-4 opacity-50\" />\n          <p class=\"text-lg font-medium\">{{ t('app.noFileSelected') }}</p>\n          <p class=\"text-sm mt-1\">{{ t('app.selectFileHint') }}</p>\n        </div>\n        <!-- 图像预览 -->\n        <ImagePreview v-show=\"currentFile && isImageFile\" class=\"absolute inset-0\" />\n        <!-- Monaco Editor 组件 -->\n        <MonacoEditor\n          ref=\"monacoEditorRef\"\n          v-show=\"currentFile && !isImageFile\"\n          class=\"absolute inset-0\"\n        />\n      </main>\n\n      <!-- 撤销文件修改确认对话框 -->\n      <AlertDialogConfirm\n        ref=\"revertDialogRef\"\n        :title=\"t('app.revertConfirmTitle')\"\n        :description=\"t('app.revertConfirmDescription')\"\n        variant=\"destructive\"\n      />\n    </ResizablePanel>\n  </ResizablePanelGroup>\n</template>\n\n<style>\nhtml,\nbody,\n#app {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n}\n</style>\n","export default {\n  common: {\n    or: '或',\n    load: '加载',\n    download: '下载',\n    cancel: '取消',\n    confirm: '确定',\n    delete: '删除',\n    files: '文件',\n    loading: '加载中...'\n  },\n  app: {\n    title: 'ASAR Explorer',\n    description: '在线预览和编辑 Electron ASAR 文件',\n    downloadFile: '下载文件',\n    downloadSuccess: '文件下载成功',\n    downloadFailed: '下载失败',\n    formatFile: '格式化文件',\n    formatSuccess: '文件格式化成功',\n    formatFailed: '格式化失败',\n    formatUnsupported: '该文件类型不支持格式化',\n    noFileSelected: '未选择文件',\n    selectFileHint: '从左侧文件树选择一个文件',\n    revertFile: '撤销修改',\n    revertSuccess: '文件已还原',\n    revertFailed: '撤销失败',\n    revertConfirmTitle: '撤销文件修改',\n    revertConfirmDescription: '确定要撤销对此文件的修改吗？此操作无法撤销。'\n  },\n  uploader: {\n    dropOrClick: '点击或拖放 ASAR 文件',\n    supportFormat: '支持 .asar 格式文件',\n    inputUrlPlaceholder: '输入 ASAR 文件 URL...',\n    loadingAsar: '正在加载 ASAR 文件...',\n    loadSuccess: 'ASAR 文件加载成功',\n    loadFailed: '加载失败'\n  },\n  sidebar: {\n    modified: '已修改 {count} 个文件',\n    clearModifications: '清除修改',\n    clearConfirmTitle: '清除所有修改',\n    clearConfirmDescription: '确定要清除所有修改吗？此操作无法撤销。',\n    closeConfirmTitle: '关闭文件',\n    closeConfirmDescription: '有未保存的修改，确定要关闭吗？'\n  }\n}\n","export default {\n  common: {\n    or: 'or',\n    load: 'Load',\n    download: 'Download',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n    delete: 'Delete',\n    files: 'Files',\n    loading: 'Loading...'\n  },\n  app: {\n    title: 'ASAR Explorer',\n    description: 'Preview and edit Electron ASAR files online',\n    downloadFile: 'Download file',\n    downloadSuccess: 'File downloaded successfully',\n    downloadFailed: 'Download failed',\n    formatFile: 'Format file',\n    formatSuccess: 'File formatted successfully',\n    formatFailed: 'Format failed',\n    formatUnsupported: 'This file type does not support formatting',\n    noFileSelected: 'No file selected',\n    selectFileHint: 'Select a file from the file tree on the left',\n    revertFile: 'Revert changes',\n    revertSuccess: 'File reverted',\n    revertFailed: 'Revert failed',\n    revertConfirmTitle: 'Revert file changes',\n    revertConfirmDescription:\n      'Are you sure you want to revert changes to this file? This action cannot be undone.'\n  },\n  uploader: {\n    dropOrClick: 'Click or drop ASAR file',\n    supportFormat: 'Supports .asar format files',\n    inputUrlPlaceholder: 'Enter ASAR file URL...',\n    loadingAsar: 'Loading ASAR file...',\n    loadSuccess: 'ASAR file loaded successfully',\n    loadFailed: 'Load failed'\n  },\n  sidebar: {\n    modified: '{count} files modified',\n    clearModifications: 'Clear modifications',\n    clearConfirmTitle: 'Clear all modifications',\n    clearConfirmDescription:\n      'Are you sure you want to clear all modifications? This action cannot be undone.',\n    closeConfirmTitle: 'Close file',\n    closeConfirmDescription: 'There are unsaved changes. Are you sure you want to close?'\n  }\n}\n","import { createI18n } from 'vue-i18n'\nimport zh from './locales/zh'\nimport en from './locales/en'\n\n// 获取浏览器语言\nfunction getBrowserLanguage(): string {\n  const lang = navigator.language || (navigator as any).userLanguage\n  // 如果是中文（包括 zh-CN, zh-TW, zh-HK 等），返回 zh\n  if (lang.startsWith('zh')) {\n    return 'zh'\n  }\n  return 'en'\n}\n\nconst i18n = createI18n({\n  legacy: false, // 使用 Composition API 模式\n  locale: getBrowserLanguage(),\n  fallbackLocale: 'en',\n  messages: {\n    zh,\n    en\n  }\n})\n\nexport default i18n\n","import { createApp } from 'vue'\nimport { vaporInteropPlugin } from 'vue'\nimport './style.css'\nimport App from './App.vue'\nimport i18n from './i18n'\n\ncreateApp(App).use(vaporInteropPlugin).use(i18n).mount('#app')\n"],"file":"index-Bwhs55Bk.js"}