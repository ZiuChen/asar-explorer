const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/asar-sidebar-DZf16zTb.js","assets/vendor_@intlify_core-base@11.2.2-DT4VpZNl.js","assets/vendor_@vue_reactivity@3.6.0-alpha.6-DZKOJXGm.js","assets/vendor_@vue_runtime-core@3.6.0-alpha.6-BjE3k_Rr.js","assets/vendor_@vue_runtime-dom@3.6.0-alpha.6-DIxWpe74.js","assets/vendor_@vue_runtime-vapor@3.6.0-alpha.6_@vue_runtime-dom@3.6.0-alpha.6-GqVkSY40.js","assets/vendor_@vueuse_core@12.8.2_typescript@5.9.3-BgEAq90h.js","assets/rolldown-runtime-CMO3aZVE.js","assets/vendor_@vueuse_core@14.1.0_vue@3.6.0-alpha.6_typescript@5.9.3_-BAkWxWwr.js","assets/vendor_aria-hidden@1.2.6-B52sXtCF.js","assets/vendor_class-variance-authority@0.7.1-DT9C3Tls.js","assets/vendor_crypto-js@4.2.0-BOxzFhuU.js","assets/vendor_defu@6.1.4-CeIWjn5f.js","assets/vendor_lucide-vue-next@0.560.0_vue@3.6.0-alpha.6_typescript@5.9.3_-3c_Zkny2.js","assets/vendor_nanoid@5.1.6-DmYhSqLU.js","assets/vendor_reka-ui@2.6.1_typescript@5.9.3_vue@3.6.0-alpha.6_typescript@5.9.3_-C3uRMqJ9.js","assets/vendor_tailwind-merge@3.4.0-D0SsQR3d.js","assets/vendor_vue-i18n@11.2.2_vue@3.6.0-alpha.6_typescript@5.9.3_-D2VCpyIl.js"])))=>i.map(i=>d[i]);
import{It as e,M as t,Pt as n,T as r,Vt as i,W as a,h as o}from"./vendor_@vue_reactivity@3.6.0-alpha.6-DZKOJXGm.js";import{B as s,Jt as c,M as l,O as u,Qn as d,Rt as f,T as p,U as m,W as h,Wt as g,ar as _,en as v,j as y,k as b,lt as x,mn as S,rr as C,s as w,z as T}from"./vendor_@vue_runtime-core@3.6.0-alpha.6-BjE3k_Rr.js";import{K as E,U as D,Y as O,l as k}from"./vendor_@vue_runtime-dom@3.6.0-alpha.6-DIxWpe74.js";import{st as A}from"./vendor_@vue_runtime-vapor@3.6.0-alpha.6_@vue_runtime-dom@3.6.0-alpha.6-GqVkSY40.js";import"./vendor_@vueuse_core@12.8.2_typescript@5.9.3-BgEAq90h.js";import{a as j,b as M,d as N,f as ee,i as te,l as ne,n as re,p as ie,r as ae,s as oe,t as se,u as P,y as ce}from"./vendor_lucide-vue-next@0.560.0_vue@3.6.0-alpha.6_typescript@5.9.3_-3c_Zkny2.js";import"./vendor_@intlify_core-base@11.2.2-DT4VpZNl.js";import{n as F,t as le}from"./vendor_vue-i18n@11.2.2_vue@3.6.0-alpha.6_typescript@5.9.3_-D2VCpyIl.js";import{a as ue,c as de,i as fe,l as pe,n as me,o as he,r as ge,s as I,t as L}from"./vendor_prettier@3.7.4-D1r81_0i.js";import{n as _e,t as ve}from"./vendor_class-variance-authority@0.7.1-DT9C3Tls.js";import{_ as ye,a as be,c as xe,d as Se,g as R,h as Ce,i as we,l as Te,n as Ee,o as De,r as Oe,s as ke,t as Ae,u as je}from"./vendor_reka-ui@2.6.1_typescript@5.9.3_vue@3.6.0-alpha.6_typescript@5.9.3_-C3uRMqJ9.js";import"./vendor_defu@6.1.4-CeIWjn5f.js";import"./vendor_aria-hidden@1.2.6-B52sXtCF.js";import{t as Me}from"./vendor_tailwind-merge@3.4.0-D0SsQR3d.js";import{n as Ne,r as z,t as Pe}from"./vendor_@vueuse_core@14.1.0_vue@3.6.0-alpha.6_typescript@5.9.3_-BAkWxWwr.js";import{n as Fe,t as Ie}from"./vendor_modern-monaco@0.3.6_typescript@5.9.3-DqAmps-r.js";import{t as Le}from"./vendor_crypto-js@4.2.0-BOxzFhuU.js";import{t as Re}from"./vendor_nanoid@5.1.6-DmYhSqLU.js";import{n as B,t as ze}from"./vendor_vue-sonner@2.0.9_@nuxt_kit@4.2.2_magicast@0.5.1__@nuxt_schema@4.2.2_nuxt@4.2.2_8a3b32b6a61d2028729b215253b0f0cb_-CeanpxxT.js";(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();function V(...e){return Me(_e(e))}var H=h({__name:`Button`,props:{variant:{},size:{},class:{},asChild:{type:Boolean},as:{default:`button`}},setup(e){let t=e;return(r,i)=>(v(),b(a(Ce),{"data-slot":`button`,as:e.as,"as-child":e.asChild,class:n(a(V)(a(U)({variant:e.variant,size:e.size}),t.class))},{default:C(()=>[S(r.$slots,`default`)]),_:3},8,[`as`,`as-child`,`class`]))}});const U=ve(`inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive`,{variants:{variant:{default:`bg-primary text-primary-foreground hover:bg-primary/90`,destructive:`bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60`,outline:`border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50`,secondary:`bg-secondary text-secondary-foreground hover:bg-secondary/80`,ghost:`hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50`,link:`text-primary underline-offset-4 hover:underline`},size:{default:`h-9 px-4 py-2 has-[>svg]:px-3`,sm:`h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5`,lg:`h-10 rounded-md px-6 has-[>svg]:px-4`,icon:`size-9`,"icon-sm":`size-8`,"icon-lg":`size-10`}},defaultVariants:{variant:`default`,size:`default`}});var Be=h({__name:`Input`,props:{defaultValue:{},modelValue:{},class:{}},emits:[`update:modelValue`],setup(e,{emit:t}){let r=e,i=Pe(r,`modelValue`,t,{passive:!0,defaultValue:r.defaultValue});return(e,t)=>_((v(),l(`input`,{"onUpdate:modelValue":t[0]||=e=>o(i)?i.value=e:null,"data-slot":`input`,class:n(a(V)(`file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm`,`focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]`,`aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive`,r.class))},null,2)),[[D,a(i)]])}}),W=null,Ve=0,G=new Map;function K(){return W||(W=new Worker(new URL(`/asar-explorer/assets/worker-CT2nJRkM.js`,``+import.meta.url),{type:`module`}),W.onmessage=e=>{let t=e.data,n=G.get(t.id);n&&(G.delete(t.id),t.type===`error`?n.reject(Error(t.error)):n.resolve(t.result))},W.onerror=e=>{console.error(`Worker error:`,e)}),W}function q(e,t,n){return new Promise((r,i)=>{let a=++Ve;G.set(a,{resolve:r,reject:i});let o={type:e,id:a,...t};n?K().postMessage(o,n):K().postMessage(o)})}async function He(e){let t=e.slice(0);return q(`parseHeader`,{data:t},[t])}async function J(e,t){return q(`extractFile`,{data:e,path:t})}async function Ue(e,t){let n=e.slice(0);return q(`modifyPackage`,{data:n,modifications:t},[n])}var Y={Unknown:0,File:1,Directory:2,SymbolicLink:64},We=class{constructor(){this.watchers=[],this.asarData=null,this.asarId=null,this.root=this.createDirectoryNode()}createDirectoryNode(){let e=Date.now();return{type:Y.Directory,children:new Map,size:0,ctime:e,mtime:e,version:1,fromAsar:!1}}createFileNode(e,t=!1){let n=Date.now();return{type:Y.File,content:e,size:e.length,ctime:n,mtime:n,version:1,fromAsar:t}}normalizePath(e){return e.replace(/^file:\/\//,``).replace(/^\/+/,``).replace(/\/+$/,``).replace(/\/+/g,`/`)}getPathParts(e){let t=this.normalizePath(e);return t?t.split(`/`):[]}getParentPath(e){let t=this.getPathParts(e);return t.pop(),t.join(`/`)}getFileName(e){let t=this.getPathParts(e);return t[t.length-1]||``}getNode(e){let t=this.getPathParts(e),n=this.root;for(let e of t){if(n.type!==Y.Directory||!n.children)return null;let t=n.children.get(e);if(!t)return null;n=t}return n}getOrCreateParent(e){let t=this.getParentPath(e),n=this.getPathParts(t),r=this.root;for(let e of n){r.children||=new Map;let t=r.children.get(e);t||(t=this.createDirectoryNode(),r.children.set(e,t)),r=t}return r}notifyWatchers(e,t,n=Y.File,r){let i=this.normalizePath(t);for(let a of this.watchers){let o=this.normalizePath(a.path);a.recursive?(i.startsWith(o)||o===``||i===o)&&a.handle(e,t,n,r):(this.getParentPath(i)===o||o===``&&!i.includes(`/`))&&a.handle(e,t,n,r)}}async loadFromAsar(e,t){this.asarData=e,this.asarId=t,this.root=this.createDirectoryNode();let{files:n}=await He(e);for(let e of n){let t=e.path.replace(/^\//,``).split(`/`).filter(Boolean),n=this.root;for(let e=0;e<t.length-1;e++){let r=t[e];n.children||=new Map;let i=n.children.get(r);i||(i=this.createDirectoryNode(),i.fromAsar=!0,n.children.set(r,i)),n=i}let r=t[t.length-1];if(r&&n.children){let t={type:Y.File,size:e.size||0,ctime:Date.now(),mtime:Date.now(),version:1,fromAsar:!0,asarOffset:e.fileOffset};n.children.set(r,t)}}}clear(){this.root=this.createDirectoryNode(),this.asarData=null,this.asarId=null}getAsarId(){return this.asarId}async copy(e,t,n){if(!this.getNode(e))throw Error(`Source not found: ${e}`);if(this.getNode(t)&&!n?.overwrite)throw Error(`Target already exists: ${t}`);let r=await this.readFile(e);await this.writeFile(t,r)}async createDirectory(e){let t=this.getPathParts(e),n=this.root;for(let r of t){n.children||=new Map;let t=n.children.get(r);t||(t=this.createDirectoryNode(),n.children.set(r,t),this.notifyWatchers(`create`,e,Y.Directory)),n=t}}async delete(e,t){let n=this.getParentPath(e),r=this.getFileName(e),i=this.getNode(n);if(!i||!i.children)throw Error(`Not found: ${e}`);let a=i.children.get(r);if(!a)throw Error(`Not found: ${e}`);if(a.type===Y.Directory&&a.children?.size&&!t?.recursive)throw Error(`Directory not empty: ${e}`);i.children.delete(r),this.notifyWatchers(`remove`,e,a.type)}async readDirectory(e){let t=this.getNode(e);if(!t)throw Error(`Not found: ${e}`);if(t.type!==Y.Directory||!t.children)throw Error(`Not a directory: ${e}`);let n=[];for(let[e,r]of t.children)n.push([e,r.type]);return n.sort((e,t)=>e[1]===t[1]?e[0].localeCompare(t[0]):e[1]===Y.Directory?-1:1)}async readFile(e){let t=this.getNode(e);if(!t)throw Error(`Not found: ${e}`);if(t.type!==Y.File)throw Error(`Not a file: ${e}`);if(t.content)return t.content;if(t.fromAsar&&this.asarData){let n=await J(this.asarData,`/`+this.normalizePath(e));return t.content=new Uint8Array(n),t.content}throw Error(`Content not available: ${e}`)}async readTextFile(e){let t=await this.readFile(e);return new TextDecoder(`utf-8`).decode(t)}async rename(e,t,n){await this.copy(e,t,n),await this.delete(e,{recursive:!0})}async stat(e){let t=this.getNode(e);if(!t)throw Error(`Not found: ${e}`);return{type:t.type,ctime:t.ctime,mtime:t.mtime,version:t.version,size:t.size}}async writeFile(e,t,n){let r=typeof t==`string`?new TextEncoder().encode(t):t,i=this.getOrCreateParent(e),a=this.getFileName(e);i.children||=new Map;let o=i.children.get(a),s=!o,c=Date.now(),l=o&&o.type===Y.File?{...o,content:r,size:r.length,mtime:c,version:o.version+1,fromAsar:!1}:this.createFileNode(r,!1);i.children.set(a,l),this.notifyWatchers(s?`create`:`modify`,e,Y.File,n)}watch(e,t,n){let r,i;typeof t==`function`?(r={recursive:!1},i=t):(r=t,i=n);let a={path:this.normalizePath(e),recursive:r.recursive,handle:i};return this.watchers.push(a),()=>{let e=this.watchers.indexOf(a);e!==-1&&this.watchers.splice(e,1)}}isModified(e){let t=this.getNode(e);return t?!t.fromAsar:!1}getModifiedFiles(){let e=[],t=(n,r)=>{if(n.type===Y.File&&!n.fromAsar&&e.push(r),n.children)for(let[e,i]of n.children)t(i,r?`${r}/${e}`:e)};return t(this.root,``),e}async resetFile(e){if(!this.asarData||!this.asarId)throw Error(`No ASAR loaded`);let t=this.getNode(e);if(!t||t.type!==Y.File)throw Error(`Not a file: ${e}`);let n=await J(this.asarData,`/`+this.normalizePath(e));t.content=new Uint8Array(n),t.fromAsar=!0,t.mtime=Date.now(),t.version++,this.notifyWatchers(`modify`,e,Y.File)}getFileTree(){let e=(t,n)=>{if(!t.children)return[];let r=[];for(let[i,a]of t.children){let t=n?`${n}/${i}`:i,o={name:i,path:`/`+t,isDirectory:a.type===Y.Directory};a.type===Y.Directory?o.children=e(a,t):(o.size=a.size,o.modified=!a.fromAsar),r.push(o)}return r.sort((e,t)=>e.isDirectory===t.isDirectory?e.name.localeCompare(t.name):e.isDirectory?-1:1)};return e(this.root,``)}};Le();function Ge(e=``,t=21){return`${e}_${Re(t)}`}const X=Ne(()=>{let e=new We,n=null,i=r(null),a=t([]),o=r(null),s=r(!1),c=r(!1),l=r(!1),u=r(null),d=r(new Set),f=p(()=>d.value.size>0),m=p(()=>i.value!==null);async function h(e){try{s.value=!0,u.value=null,await _(await e.arrayBuffer(),e.name)}catch(e){throw u.value=e instanceof Error?e.message:String(e),e}finally{s.value=!1}}async function g(e){try{s.value=!0,u.value=null;let t,n;if(e.startsWith(`data:`)){n=`data-url.asar`;let r=e.split(`,`)[1]||``,i=atob(r),a=new Uint8Array(i.length);for(let e=0;e<i.length;e++)a[e]=i.charCodeAt(e);t=a.buffer}else{n=new URL(e).pathname.split(`/`).pop()||`remote.asar`;let r=await fetch(e);if(!r.ok)throw Error(`Failed to fetch: ${r.status} ${r.statusText}`);t=await r.arrayBuffer()}await _(t,n)}catch(e){throw u.value=e instanceof Error?e.message:String(e),e}finally{s.value=!1}}async function _(t,r){let s=Ge(`R`);n=t;let c={id:s,name:r,size:t.byteLength,importedAt:Date.now(),lastModifiedAt:Date.now()};await e.loadFromAsar(t,s),i.value=c,a.value=e.getFileTree(),d.value=new Set,o.value=null}function v(){e.clear(),i.value=null,n=null,a.value=[],d.value=new Set,o.value=null}async function y(e){o.value=e}async function b(){d.value=new Set(e.getModifiedFiles()),a.value=e.getFileTree()}async function x(t){try{await e.resetFile(t.replace(/^\/+/,``)),d.value=new Set(e.getModifiedFiles()),a.value=e.getFileTree(),o.value===t&&await y(t)}catch(e){throw u.value=e instanceof Error?e.message:String(e),e}}async function S(){if(!(!i.value||!n))try{await e.loadFromAsar(n,i.value.id),a.value=e.getFileTree(),d.value=new Set,o.value&&await y(o.value)}catch(e){throw u.value=e instanceof Error?e.message:String(e),e}}async function C(){if(!i.value||!n)throw Error(`No ASAR loaded`);try{l.value=!0,u.value=null;let t={},r=e.getModifiedFiles();for(let n of r){let r=await e.readFile(n);r&&(t[n]=r)}let a=await Ue(n,t),o=new Blob([a.buffer],{type:`application/octet-stream`}),s=URL.createObjectURL(o),c=document.createElement(`a`);c.href=s,c.download=i.value.name.replace(`.asar`,`-modified.asar`),document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(s)}catch(e){throw u.value=e instanceof Error?e.message:String(e),e}finally{l.value=!1}}async function w(){if(!i.value||!n)throw Error(`No ASAR loaded`);let e=new Blob([n],{type:`application/octet-stream`}),t=URL.createObjectURL(e),r=document.createElement(`a`);r.href=t,r.download=i.value.name,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}function T(){return e}function E(){a.value=e.getFileTree(),d.value=new Set(e.getModifiedFiles())}return{currentAsar:i,fileTree:a,currentFile:o,isLoadingAsar:s,isSaving:c,isRepacking:l,error:u,modifiedFiles:d,hasModifications:f,asarLoaded:m,loadFromFile:h,loadFromUrl:g,closeAsar:v,openFile:y,saveCurrentFile:b,resetFile:x,resetAllFiles:S,downloadModifiedAsar:C,downloadOriginalAsar:w,getFileSystem:T,refreshFileTree:E}});var Ke={class:`text-center space-y-2`},qe={class:`text-3xl font-bold`},Je={class:`text-muted-foreground`},Ye={key:0,class:`text-destructive text-center max-w-md`},Xe={key:1,class:`w-full space-y-4`},Ze={class:`text-lg font-medium`},Qe={class:`text-sm text-muted-foreground mt-1`},$e={class:`flex items-center gap-4`},et={class:`text-sm text-muted-foreground`},tt={class:`flex gap-2`},nt={key:2,class:`flex items-center gap-2`},rt=h({__name:`asar-uploader`,setup(e){let{t}=F(),{loadFromFile:n,loadFromUrl:o,isLoadingAsar:c,error:d}=X(),f=r(``),p=r(null);function m(){p.value?.click()}async function h(e){let r=e.target,i=r.files?.[0];if(i)try{B.info(t(`uploader.loadingAsar`)),await n(i),B.success(t(`uploader.loadSuccess`))}catch(e){console.error(`Failed to load file:`,e),B.error(t(`uploader.loadFailed`),{description:e instanceof Error?e.message:String(e)})}finally{r.value=``}}async function g(){if(f.value.trim())try{B.info(t(`uploader.loadingAsar`)),await o(f.value.trim()),B.success(t(`uploader.loadSuccess`)),f.value=``}catch(e){console.error(`Failed to load from URL:`,e),B.error(t(`uploader.loadFailed`),{description:e instanceof Error?e.message:String(e)})}}function _(e){e.preventDefault(),e.dataTransfer.dropEffect=`copy`}async function b(e){e.preventDefault();let t=e.dataTransfer?.files[0];if(!(!t||!t.name.endsWith(`.asar`)))try{await n(t)}catch(e){console.error(`Failed to load dropped file:`,e)}}return(e,n)=>(v(),l(`div`,{class:`flex flex-col items-center justify-center min-h-[400px] p-8 space-y-8 w-full max-w-2xl`,onDragover:_,onDrop:b},[u(`div`,Ke,[u(`h1`,qe,i(a(t)(`app.title`)),1),u(`p`,Je,i(a(t)(`app.description`)),1)]),a(d)?(v(),l(`div`,Ye,i(a(d)),1)):y(``,!0),a(c)?y(``,!0):(v(),l(`div`,Xe,[u(`div`,{class:`border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center hover:border-muted-foreground/50 transition-colors cursor-pointer`,onClick:m},[s(a(ae),{class:`w-12 h-12 mx-auto mb-4 text-muted-foreground`}),u(`p`,Ze,i(a(t)(`uploader.dropOrClick`)),1),u(`p`,Qe,i(a(t)(`uploader.supportFormat`)),1),u(`input`,{ref_key:`fileInputRef`,ref:p,type:`file`,accept:`.asar`,class:`hidden`,onChange:h},null,544)]),u(`div`,$e,[n[1]||=u(`div`,{class:`flex-1 h-px bg-border`},null,-1),u(`span`,et,i(a(t)(`common.or`)),1),n[2]||=u(`div`,{class:`flex-1 h-px bg-border`},null,-1)]),u(`div`,tt,[s(a(Be),{modelValue:f.value,"onUpdate:modelValue":n[0]||=e=>f.value=e,placeholder:a(t)(`uploader.inputUrlPlaceholder`),class:`flex-1`,onKeyup:O(g,[`enter`])},null,8,[`modelValue`,`placeholder`]),s(a(H),{onClick:g,disabled:!f.value.trim()},{default:C(()=>[s(a(N),{class:`size-4`}),T(` `+i(a(t)(`common.load`)),1)]),_:1},8,[`disabled`])])])),a(c)?(v(),l(`div`,nt,[s(a(P),{class:`w-5 h-5 animate-spin`}),u(`span`,null,i(a(t)(`uploader.loadingAsar`)),1)])):y(``,!0)],32))}}),it={class:`monaco-container relative w-full h-full`},at={key:0,class:`absolute inset-0 flex items-center justify-center bg-background z-10`},ot={class:`flex items-center gap-2 text-muted-foreground`},st=((e,t)=>{let n=e.__vccOpts||e;for(let[e,r]of t)n[e]=r;return n})(h({__name:`monaco-editor`,setup(e,{expose:n}){let i=r(null),o=r(!0),f=t(null),p=t(null),m=null,{getFileSystem:h,currentFile:_,refreshFileTree:b,error:x}=X();function S(e){return{js:`javascript`,jsx:`javascript`,ts:`typescript`,tsx:`typescript`,json:`json`,html:`html`,htm:`html`,css:`css`,scss:`scss`,less:`less`,md:`markdown`,xml:`xml`,yaml:`yaml`,yml:`yaml`,py:`python`,sh:`shell`,bash:`shell`,vue:`html`,svelte:`html`,sql:`sql`,graphql:`graphql`,gql:`graphql`}[e.split(`.`).pop()?.toLowerCase()||``]||`plaintext`}return d(_,async e=>{if(!(!f.value||!e))try{let t=h(),n=e.replace(/^\/+/,``),r=await t.readFile(n);if(!r){console.error(`File not found:`,n);return}let i=new TextDecoder().decode(r),a=S(e);p.value&&p.value.dispose();let o=m.Uri.parse(`file:///${n}`),s=m.editor.getModel(o);s?(s.setValue(i),p.value=s):p.value=m.editor.createModel(i,a,o),f.value.setModel(p.value)}catch(e){console.error(`Failed to open file:`,e),x.value=e instanceof Error?e.message:String(e)}}),c(async()=>{if(i.value)try{m=await Ie({theme:`nord`}),f.value=m.editor.create(i.value,{theme:`nord`,automaticLayout:!0,minimap:{enabled:!0},fontSize:14,lineNumbers:`on`,wordWrap:`on`,scrollBeyondLastLine:!1,tabSize:2,insertSpaces:!0,renderWhitespace:`selection`,"bracketPairColorization.enabled":!0}),f.value.onDidChangeModelContent(async()=>{if(!_.value||!p.value)return;let e=h(),t=p.value.getValue(),n=_.value.replace(/^\/+/,``);try{await e.writeFile(n,t),b()}catch(e){console.error(`Failed to save file:`,e)}}),o.value=!1,console.log(`Monaco editor initialized`)}catch(e){console.error(`Failed to initialize editor:`,e),x.value=e instanceof Error?e.message:String(e),o.value=!1}}),g(()=>{p.value&&=(p.value.dispose(),null),f.value&&=(f.value.dispose(),null)}),n({getEditor:()=>f.value,getModel:()=>p.value}),(e,t)=>(v(),l(`div`,it,[o.value?(v(),l(`div`,at,[u(`div`,ot,[s(a(P),{class:`w-5 h-5 animate-spin`}),t[0]||=u(`span`,null,`Loading editor...`,-1)])])):y(``,!0),u(`div`,{ref_key:`containerRef`,ref:i,class:`w-full h-full`},null,512)]))}}),[[`__scopeId`,`data-v-833f736b`]]),ct={class:`w-full h-full flex items-center justify-center bg-background/50 p-4 overflow-auto`},lt={key:0,class:`text-muted-foreground`},ut={key:1,class:`text-destructive text-center`},dt={class:`text-sm mt-1`},ft=[`src`,`alt`],pt=h({__name:`image-preview`,setup(e){let{currentFile:t,getFileSystem:n}=X(),o=r(null),s=r(null),c=r(!1);function f(e){return{png:`image/png`,jpg:`image/jpeg`,jpeg:`image/jpeg`,gif:`image/gif`,webp:`image/webp`,svg:`image/svg+xml`,ico:`image/x-icon`,bmp:`image/bmp`}[e.toLowerCase().split(`.`).pop()||``]||`application/octet-stream`}async function p(e){c.value=!0,s.value=null,o.value&&=(URL.revokeObjectURL(o.value),null);try{let t=n(),r=e.replace(/^\/+/,``),i=await t.readFile(r),a=f(e),s=new Blob([i.buffer],{type:a});o.value=URL.createObjectURL(s)}catch(e){console.error(`Failed to load image:`,e),s.value=e instanceof Error?e.message:String(e)}finally{c.value=!1}}return d(t,e=>{e&&p(e)},{immediate:!0}),g(()=>{o.value&&URL.revokeObjectURL(o.value)}),(e,n)=>(v(),l(`div`,ct,[c.value?(v(),l(`div`,lt,`加载中...`)):s.value?(v(),l(`div`,ut,[n[0]||=u(`p`,null,`无法加载图像`,-1),u(`p`,dt,i(s.value),1)])):o.value?(v(),l(`img`,{key:2,src:o.value,alt:a(t)||``,class:`max-w-full max-h-full object-contain shadow-lg rounded`},null,8,ft)):y(``,!0)]))}}),mt=h({__name:`AlertDialog`,props:{open:{type:Boolean},defaultOpen:{type:Boolean}},emits:[`update:open`],setup(t,{emit:n}){let r=R(t,n);return(t,n)=>(v(),b(a(be),f({"data-slot":`alert-dialog`},a(r)),{default:C(n=>[S(t.$slots,`default`,e(x(n)))]),_:3},16))}}),ht=h({__name:`AlertDialogAction`,props:{asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,n=z(t,`class`);return(e,r)=>(v(),b(a(Se),f(a(n),{class:a(V)(a(U)(),t.class)}),{default:C(()=>[S(e.$slots,`default`)]),_:3},16,[`class`]))}}),gt=h({__name:`AlertDialogCancel`,props:{asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,n=z(t,`class`);return(e,r)=>(v(),b(a(Te),f(a(n),{class:a(V)(a(U)({variant:`outline`}),`mt-2 sm:mt-0`,t.class)}),{default:C(()=>[S(e.$slots,`default`)]),_:3},16,[`class`]))}}),_t=h({inheritAttrs:!1,__name:`AlertDialogContent`,props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:t,attrs:n}){let r=e,i=t,o=R(z(r,`class`),i);return(e,t)=>(v(),b(a(De),null,{default:C(()=>[s(a(ke),{"data-slot":`alert-dialog-overlay`,class:`data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80`}),s(a(je),f({"data-slot":`alert-dialog-content`},{...n,...a(o)},{class:a(V)(`bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg`,r.class)}),{default:C(()=>[S(e.$slots,`default`)]),_:3},16,[`class`])]),_:3}))}}),vt=h({__name:`AlertDialogDescription`,props:{asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,n=z(t,`class`);return(e,r)=>(v(),b(a(xe),f({"data-slot":`alert-dialog-description`},a(n),{class:a(V)(`text-muted-foreground text-sm`,t.class)}),{default:C(()=>[S(e.$slots,`default`)]),_:3},16,[`class`]))}}),yt=h({__name:`AlertDialogFooter`,props:{class:{}},setup(e){let t=e;return(e,r)=>(v(),l(`div`,{"data-slot":`alert-dialog-footer`,class:n(a(V)(`flex flex-col-reverse gap-2 sm:flex-row sm:justify-end`,t.class))},[S(e.$slots,`default`)],2))}}),bt=h({__name:`AlertDialogHeader`,props:{class:{}},setup(e){let t=e;return(e,r)=>(v(),l(`div`,{"data-slot":`alert-dialog-header`,class:n(a(V)(`flex flex-col gap-2 text-center sm:text-left`,t.class))},[S(e.$slots,`default`)],2))}}),xt=h({__name:`AlertDialogTitle`,props:{asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,n=z(t,`class`);return(e,r)=>(v(),b(a(we),f({"data-slot":`alert-dialog-title`},a(n),{class:a(V)(`text-lg font-semibold`,t.class)}),{default:C(()=>[S(e.$slots,`default`)]),_:3},16,[`class`]))}}),Z=h({__name:`alert-dialog-confirm`,props:{title:{},description:{},confirmText:{},cancelText:{},variant:{default:`default`}},emits:[`confirm`,`cancel`],setup(e,{expose:t,emit:o}){let{t:c}=F(),l=o,u=r(!1),d=null;function f(){return u.value=!0,new Promise(e=>{d=e})}function p(){u.value=!1,l(`confirm`),d?.(!0),d=null}function m(){u.value=!1,l(`cancel`),d?.(!1),d=null}return t({show:f}),(t,r)=>(v(),b(a(mt),{open:u.value,"onUpdate:open":r[0]||=e=>u.value=e},{default:C(()=>[s(a(_t),null,{default:C(()=>[s(a(bt),null,{default:C(()=>[s(a(xt),null,{default:C(()=>[T(i(e.title),1)]),_:1}),s(a(vt),null,{default:C(()=>[T(i(e.description),1)]),_:1})]),_:1}),s(a(yt),null,{default:C(()=>[s(a(gt),{onClick:m},{default:C(()=>[T(i(e.cancelText||a(c)(`common.cancel`)),1)]),_:1}),s(a(ht),{class:n(e.variant===`destructive`?`bg-destructive hover:bg-destructive/90`:``),onClick:p},{default:C(()=>[T(i(e.confirmText||a(c)(`common.confirm`)),1)]),_:1},8,[`class`])]),_:1})]),_:1})]),_:1},8,[`open`]))}}),St={key:0,class:`bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border`},Ct=h({__name:`ResizableHandle`,props:{id:{},hitAreaMargins:{},tabindex:{},disabled:{type:Boolean},nonce:{},asChild:{type:Boolean},as:{},class:{},withHandle:{type:Boolean}},emits:[`dragging`],setup(e,{emit:t}){let n=e,r=t,i=R(z(n,`class`,`withHandle`),r);return(e,t)=>(v(),b(a(Ae),f({"data-slot":`resizable-handle`},a(i),{class:a(V)(`bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[orientation=vertical]:h-px data-[orientation=vertical]:w-full data-[orientation=vertical]:after:left-0 data-[orientation=vertical]:after:h-1 data-[orientation=vertical]:after:w-full data-[orientation=vertical]:after:-translate-y-1/2 data-[orientation=vertical]:after:translate-x-0 [&[data-orientation=vertical]>div]:rotate-90`,n.class)}),{default:C(()=>[n.withHandle?(v(),l(`div`,St,[S(e.$slots,`default`,{},()=>[s(a(ie),{class:`size-2.5`})])])):y(``,!0)]),_:3},16,[`class`]))}}),Q=h({__name:`ResizablePanel`,props:{collapsedSize:{},collapsible:{type:Boolean},defaultSize:{},id:{},maxSize:{},minSize:{},order:{},asChild:{type:Boolean},as:{}},emits:[`collapse`,`expand`,`resize`],setup(t,{emit:n}){let r=R(t,n);return ye(),(t,n)=>(v(),b(a(Ee),f({"data-slot":`resizable-panel`},a(r)),{default:C(n=>[S(t.$slots,`default`,e(x(n)))]),_:3},16))}}),wt=h({__name:`ResizablePanelGroup`,props:{id:{},autoSaveId:{},direction:{},keyboardResizeBy:{},storage:{},asChild:{type:Boolean},as:{},class:{}},emits:[`layout`],setup(t,{emit:n}){let r=t,i=n,o=R(z(r,`class`),i);return(t,n)=>(v(),b(a(Oe),f({"data-slot":`resizable-panel-group`},a(o),{class:a(V)(`flex h-full w-full data-[orientation=vertical]:flex-col`,r.class)}),{default:C(n=>[S(t.$slots,`default`,e(x(n)))]),_:3},16,[`class`]))}}),Tt=h({__name:`Sonner`,props:{id:{},invert:{type:Boolean},theme:{},position:{},closeButtonPosition:{},hotkey:{},richColors:{type:Boolean},expand:{type:Boolean},duration:{},gap:{},visibleToasts:{},closeButton:{type:Boolean},toastOptions:{},class:{},style:{},offset:{},mobileOffset:{},dir:{},swipeDirections:{},icons:{},containerAriaLabel:{}},setup(e){let t=e;return(e,n)=>(v(),b(a(ze),f({class:a(V)(`toaster group`,t.class),style:{"--normal-bg":`var(--popover)`,"--normal-text":`var(--popover-foreground)`,"--normal-border":`var(--border)`,"--border-radius":`var(--radius)`}},t),{"success-icon":C(()=>[s(a(M),{class:`size-4`})]),"info-icon":C(()=>[s(a(ee),{class:`size-4`})]),"warning-icon":C(()=>[s(a(j),{class:`size-4`})]),"error-icon":C(()=>[s(a(ne),{class:`size-4`})]),"loading-icon":C(()=>[u(`div`,null,[s(a(P),{class:`size-4 animate-spin`})])]),"close-icon":C(()=>[s(a(se),{class:`size-4`})]),_:1},16,[`class`]))}}),Et={key:0,class:`min-h-screen flex items-center justify-center bg-background`},$={class:`flex h-12 shrink-0 items-center justify-between gap-2 border-b px-4`},Dt={class:`flex items-center gap-2 min-w-0 flex-1`},Ot=[`title`],kt={class:`flex items-center gap-1 shrink-0`},At={class:`flex-1 min-h-0 relative`},jt={key:0,class:`absolute inset-0 flex flex-col items-center justify-center text-muted-foreground`},Mt={class:`text-lg font-medium`},Nt={class:`text-sm mt-1`},Pt=h({__name:`App`,setup(e){let{t}=F(),n=m(()=>Fe(()=>import(`./asar-sidebar-DZf16zTb.js`),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]))),{asarLoaded:o,currentFile:c,modifiedFiles:d,resetFile:f,getFileSystem:h}=X(),g=r(null),x=r(!1),S=r(null),T=p(()=>{if(!c.value)return!1;let e=c.value.replace(/^\/+/,``);return d.value.has(e)});async function D(){if(c.value&&await S.value?.show())try{await f(c.value),B.success(t(`app.revertSuccess`))}catch(e){console.error(`Revert failed:`,e),B.error(t(`app.revertFailed`),{description:e instanceof Error?e.message:String(e)})}}let O=[`.png`,`.jpg`,`.jpeg`,`.gif`,`.webp`,`.svg`,`.ico`,`.bmp`],k=p(()=>{if(!c.value)return!1;let e=c.value.toLowerCase().split(`.`).pop();return e?O.includes(`.`+e):!1});function A(e){return{js:`babel`,jsx:`babel`,ts:`typescript`,tsx:`typescript`,json:`json`,html:`html`,htm:`html`,vue:`html`,svelte:`html`,css:`css`,scss:`scss`,less:`less`,md:`markdown`,markdown:`markdown`,yaml:`yaml`,yml:`yaml`,graphql:`graphql`,gql:`graphql`}[e.split(`.`).pop()?.toLowerCase()||``]||null}let j=p(()=>!c.value||k.value?!1:A(c.value)!==null);async function M(){if(!c.value||!g.value)return;let e=A(c.value);if(!e){B.error(t(`app.formatUnsupported`));return}let n=g.value.getModel();if(n)try{x.value=!0;let r=await pe(n.getValue(),{parser:e,plugins:[de,I,he,ue,fe,ge,me,L],tabWidth:2,useTabs:!1,semi:!1,singleQuote:!0,trailingComma:`none`,printWidth:100});n.setValue(r),B.success(t(`app.formatSuccess`))}catch(e){console.error(`Format failed:`,e),B.error(t(`app.formatFailed`),{description:e instanceof Error?e.message:String(e)})}finally{x.value=!1}}async function N(){if(c.value)try{let e=h(),n=c.value.replace(/^\/+/,``),r=await e.readFile(n),i=c.value.split(`/`).pop()||`file`,a=new Blob([r.buffer],{type:`application/octet-stream`}),o=URL.createObjectURL(a),s=document.createElement(`a`);s.href=o,s.download=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(o),B.success(t(`app.downloadSuccess`))}catch(e){console.error(`Failed to download file:`,e),B.error(t(`app.downloadFailed`),{description:e instanceof Error?e.message:String(e)})}}return(e,r)=>(v(),l(w,null,[s(a(Tt)),a(o)?(v(),b(a(wt),{key:1,direction:`horizontal`,class:`h-screen`},{default:C(()=>[s(a(Q),{"default-size":20,"min-size":20,"max-size":50,class:`bg-sidebar`},{default:C(()=>[s(a(n))]),_:1}),s(a(Ct),{"with-handle":``}),s(a(Q),{"default-size":80,class:`flex flex-col h-screen`},{default:C(()=>[u(`header`,$,[u(`div`,Dt,[a(c)?(v(),l(`span`,{key:0,class:`text-sm font-medium ml-2 truncate`,title:a(c)},i(a(c)),9,Ot)):y(``,!0)]),u(`div`,kt,[T.value?(v(),b(a(H),{key:0,variant:`ghost`,size:`icon`,onClick:D,title:a(t)(`app.revertFile`),class:`text-orange-500 hover:text-orange-600`},{default:C(()=>[s(a(te),{class:`size-4`})]),_:1},8,[`title`])):y(``,!0),j.value?(v(),b(a(H),{key:1,variant:`ghost`,size:`icon`,disabled:x.value,onClick:M,title:a(t)(`app.formatFile`)},{default:C(()=>[x.value?(v(),b(a(P),{key:0,class:`size-4 animate-spin`})):(v(),b(a(re),{key:1,class:`size-4`}))]),_:1},8,[`disabled`,`title`])):y(``,!0),a(c)?(v(),b(a(H),{key:2,variant:`ghost`,size:`icon`,onClick:N,title:a(t)(`app.downloadFile`)},{default:C(()=>[s(a(ce),{class:`size-4`})]),_:1},8,[`title`])):y(``,!0)])]),u(`main`,At,[a(c)?y(``,!0):(v(),l(`div`,jt,[s(a(oe),{class:`size-16 mb-4 opacity-50`}),u(`p`,Mt,i(a(t)(`app.noFileSelected`)),1),u(`p`,Nt,i(a(t)(`app.selectFileHint`)),1)])),_(s(pt,{class:`absolute inset-0`},null,512),[[E,a(c)&&k.value]]),_(s(st,{ref_key:`monacoEditorRef`,ref:g,class:`absolute inset-0`},null,512),[[E,a(c)&&!k.value]])]),s(Z,{ref_key:`revertDialogRef`,ref:S,title:a(t)(`app.revertConfirmTitle`),description:a(t)(`app.revertConfirmDescription`),variant:`destructive`},null,8,[`title`,`description`])]),_:1})]),_:1})):(v(),l(`div`,Et,[s(rt)]))],64))}}),Ft={common:{or:`或`,load:`加载`,download:`下载`,cancel:`取消`,confirm:`确定`,delete:`删除`,files:`文件`,loading:`加载中...`},app:{title:`ASAR Explorer`,description:`在线预览和编辑 Electron ASAR 文件`,downloadFile:`下载文件`,downloadSuccess:`文件下载成功`,downloadFailed:`下载失败`,formatFile:`格式化文件`,formatSuccess:`文件格式化成功`,formatFailed:`格式化失败`,formatUnsupported:`该文件类型不支持格式化`,noFileSelected:`未选择文件`,selectFileHint:`从左侧文件树选择一个文件`,revertFile:`撤销修改`,revertSuccess:`文件已还原`,revertFailed:`撤销失败`,revertConfirmTitle:`撤销文件修改`,revertConfirmDescription:`确定要撤销对此文件的修改吗？此操作无法撤销。`},uploader:{dropOrClick:`点击或拖放 ASAR 文件`,supportFormat:`支持 .asar 格式文件`,inputUrlPlaceholder:`输入 ASAR 文件 URL...`,loadingAsar:`正在加载 ASAR 文件...`,loadSuccess:`ASAR 文件加载成功`,loadFailed:`加载失败`},sidebar:{modified:`已修改 {count} 个文件`,clearModifications:`清除修改`,clearConfirmTitle:`清除所有修改`,clearConfirmDescription:`确定要清除所有修改吗？此操作无法撤销。`,closeConfirmTitle:`关闭文件`,closeConfirmDescription:`有未保存的修改，确定要关闭吗？`}},It={common:{or:`or`,load:`Load`,download:`Download`,cancel:`Cancel`,confirm:`Confirm`,delete:`Delete`,files:`Files`,loading:`Loading...`},app:{title:`ASAR Explorer`,description:`Preview and edit Electron ASAR files online`,downloadFile:`Download file`,downloadSuccess:`File downloaded successfully`,downloadFailed:`Download failed`,formatFile:`Format file`,formatSuccess:`File formatted successfully`,formatFailed:`Format failed`,formatUnsupported:`This file type does not support formatting`,noFileSelected:`No file selected`,selectFileHint:`Select a file from the file tree on the left`,revertFile:`Revert changes`,revertSuccess:`File reverted`,revertFailed:`Revert failed`,revertConfirmTitle:`Revert file changes`,revertConfirmDescription:`Are you sure you want to revert changes to this file? This action cannot be undone.`},uploader:{dropOrClick:`Click or drop ASAR file`,supportFormat:`Supports .asar format files`,inputUrlPlaceholder:`Enter ASAR file URL...`,loadingAsar:`Loading ASAR file...`,loadSuccess:`ASAR file loaded successfully`,loadFailed:`Load failed`},sidebar:{modified:`{count} files modified`,clearModifications:`Clear modifications`,clearConfirmTitle:`Clear all modifications`,clearConfirmDescription:`Are you sure you want to clear all modifications? This action cannot be undone.`,closeConfirmTitle:`Close file`,closeConfirmDescription:`There are unsaved changes. Are you sure you want to close?`}};function Lt(){return(navigator.language||navigator.userLanguage).startsWith(`zh`)?`zh`:`en`}var Rt=le({legacy:!1,locale:Lt(),fallbackLocale:`en`,messages:{zh:Ft,en:It}});k(Pt).use(A).use(Rt).mount(`#app`);export{X as n,H as r,Z as t};
//# sourceMappingURL=index-Bwhs55Bk.js.map